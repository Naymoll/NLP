From from From
: : :
hollasch hollasch hollasch
@ @ @
kpc kpc kpc
. . .
com com com
( ( (
Steve steve Steve
Hollasch hollasch Hollasch
) ) )
Subject subject Subject
: : :
Re re Re
: : :
Raytracing raytrac Raytracing
Colours colour Colours
? ? ?
Summary summari Summary
: : :
Illumination illumin Illumination
Equations equat Equations
Organization organ Organization
: : :
Kubota kubota Kubota
Pacific pacif Pacific
Computer comput Computer
, , ,
Inc inc Inc
. . .
Lines line Lines
: : :
44 44 44
asecchia asecchia asecchia
@ @ @
cs cs c
. . .
uct uct uct
. . .
ac ac ac
. . .
za za za
( ( (
Adrian adrian Adrian
Secchia secchia Secchia
) ) )
writes write write
: : :
| | |
When when When
an an an
incident incid incident
ray ray ray
( ( (
I i I
) ) )
strikes strike strike
an an an
object object object
at at at
point point point
P p P
. . .
. . .
. . .
The the The
reflected reflect reflected
| | |
ray ray ray
( ( (
R r R
) ) )
and and and
the the the
transmitted transmit transmitted
ray ray ray
( ( (
T t T
) ) )
is is be
calculated calcul calculate
from from from
the the the
formulae formula formula
. . .
| | |
| | |
Calling call Calling
the the the
routine routin routine
recursively recurs recursively
on on on
R r R
and and and
T t T
will will will
return return return
the the the
colours colour colour
| | |
along along along
the the the
rays ray ray
( ( (
R r R
and and and
T t T
) ) )
as as a
rCol rcol rCol
and and and
tCol tcol tCol
. . .
Each each Each
object object object
has has have
its it it
own own own
| | |
colour colour colour
oCol ocol oCol
and and and
each each each
light light light
source sourc source
has has have
liCol licol liCol
( ( (
1 1 1
< < <
= = =
i i i
< < <
= = =
n n n
) ) )
. . .
| | |
| | |
The the The
question question question
is is be
: : :
| | |
How how How
do do do
you you you
combine combin combine
rCol rcol rCol
, , ,
tCol tcol tCol
, , ,
oCol ocol oCol
and and and
all all all
the the the
liCol licol liCol
' ' '
s s s
to to to
get get get
| | |
the the the
correct correct correct
resulting result result
colour colour colour
to to to
return return return
along along along
the the the
I i I
ray ray ray
? ? ?
First first First
of of of
all all all
( ( (
this this this
is is be
NOT not NOT
a a a
snide snide snide
response respons response
) ) )
, , ,
if if if
you you you
' ' '
re re re
confused confus confuse
about about about
this this this
issue issu issue
, , ,
you you you
will will will
stumble stumbl stumble
over over over
a a a
lot lot lot
of of of
other other other
things thing thing
as as a
well well well
. . .
I i I
suggest suggest suggest
that that that
the the the
weakness weak weakness
is is be
your your your
reference refer reference
material materi material
. . .
Get get Get
" " "
An an An
Introduction introduct Introduction
to to to
Ray ray Ray
Tracing trace Tracing
" " "
by by by
Andrew andrew Andrew
Glassner glassner Glassner
for for for
very veri very
good good good
coverage coverag coverage
of of of
the the the
raytracing raytrac raytracing
algorithm algorithm algorithm
. . .
You you You
could could could
also also also
refer refer refer
to to to
the the the
2 2 2
nd nd nd
edition edit edition
of of of
Foley foley Foley
& & &
Van van Van
Dam dam Dam
. . .
On on On
to to to
the the the
question question question
. . .
The the The
simple simpl simple
answer answer answer
is is be
that that that
you you you
just just just
keep keep keep
adding ad add
up up up
all all all
the the the
contributions contribut contribution
and and and
then then then
clamping clamp clamp
at at at
the the the
maximum maximum maximum
intensity intens intensity
. . .
For for For
example exampl example
, , ,
if if if
your your your
intensity intens intensity
values valu value
range rang range
from from from
0 0 0
. . .
0 0 0
to to to
1 1 1
. . .
0 0 0
, , ,
then then then
keep keep keep
adding ad add
up up up
and and and
clamp clamp clamp
the the the
resultant result resultant
values valu value
to to to
1 1 1
. . .
0 0 0
( ( (
you you you
might might might
have have have
to to to
clamp clamp clamp
the the the
lower lower low
bound bound bound
to to to
0 0 0
. . .
0 0 0
if if if
you you you
have have have
dark dark dark
bulbs bulb bulb
, , ,
but but but
that that that
' ' '
s s s
another anoth another
issue issu issue
= = =
^ ^ ^
) ) )
. . .
So so So
, , ,
you you you
get get get
some some some
illumination illumin illumination
equation equat equation
like like like
this this this
: : :
I i I
= = =
Lambient lambient Lambient
+ + +
Ldiffuse ldiffus Ldiffuse
( ( (
light light light
[ [ [
n n n
] ] ]
) ) )
+ + +
Lreflected lreflect Lreflected
+ + +
Ltransparent ltranspar Ltransparent
The the The
contribution contribut contribution
due due due
to to to
reflection reflect reflection
is is be
just just just
summed sum sum
with with with
the the the
light light light
intensity intens intensity
, , ,
as as a
is is be
the the the
light light light
due due due
to to to
transparency transpar transparency
. . .
Now now Now
, , ,
a a a
slightly slight slightly
less less less
hand hand hand
- - -
waving wave waving
illumination illumin illumination
equation equat equation
is is be
this this this
: : :
I i I
= = =
KaLa kala KaLa
+ + +
KdLd kdld KdLd
( ( (
light light light
[ [ [
n n n
] ] ]
) ) )
+ + +
KrLr krlr KrLr
+ + +
KtLt ktlt KtLt
That that That
is is be
, , ,
each each each
component compon component
of of of
the the the
illumination illumin illumination
equation equat equation
is is be
governed govern govern
by by by
the the the
material materi material
constants constant constant
Ka ka Ka
, , ,
Kd kd Kd
, , ,
Kr kr Kr
and and and
Kt kt Kt
. . .
So so So
the the the
maximum maximum maximum
you you you
can can can
get get get
from from from
transparency transpar transparency
for for for
a a a
given given give
object object object
, , ,
for for for
example exampl example
, , ,
might might might
be be be
[ [ [
0 0 0
. . .
4 4 4
, , ,
0 0 0
. . .
1 1 1
, , ,
0 0 0
. . .
5 5 5
] ] ]
for for for
a a a
purple purpl purple
- - -
colored color colored
glass glass glass
object object object
. . .
Hopefully hope Hopefully
this this this
answers answer answer
your your your
question question question
. . .
I i I
' ' '
ll ll ll
forward forward forward
my my my
" " "
illumination illumin illumination
equation equat equation
sermon sermon sermon
" " "
to to to
you you you
also also also
. . .
_ _ _
_ _ _
_ _ _
_ _ _
_ _ _
_ _ _
_ _ _
_ _ _
_ _ _
_ _ _
_ _ _
_ _ _
_ _ _
_ _ _
_ _ _
_ _ _
_ _ _
_ _ _
_ _ _
_ _ _
_ _ _
_ _ _
_ _ _
_ _ _
_ _ _
_ _ _
_ _ _
_ _ _
_ _ _
_ _ _
_ _ _
_ _ _
_ _ _
_ _ _
_ _ _
_ _ _
_ _ _
_ _ _
_ _ _
_ _ _
_ _ _
_ _ _
_ _ _
_ _ _
_ _ _
_ _ _
_ _ _
_ _ _
_ _ _
_ _ _
_ _ _
_ _ _
_ _ _
_ _ _
_ _ _
_ _ _
_ _ _
_ _ _
_ _ _
_ _ _
_ _ _
_ _ _
_ _ _
_ _ _
_ _ _
_ _ _
_ _ _
_ _ _
_ _ _
_ _ _
_ _ _
_ _ _
_ _ _
_ _ _
_ _ _
_ _ _
_ _ _
_ _ _
Steve steve Steve
Hollasch hollasch Hollasch
Kubota kubota Kubota
Pacific pacif Pacific
Computer comput Computer
, , ,
Inc inc Inc
. . .
hollasch hollasch hollasch
@ @ @
kpc kpc kpc
. . .
com com com
Santa santa Santa
Clara clara Clara
, , ,
California california California
