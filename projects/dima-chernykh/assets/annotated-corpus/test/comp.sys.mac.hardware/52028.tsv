From from From
: : :
buzz buzz buzz
@ @ @
apple appl apple
. . .
com com com
( ( (
Steve steve Steve
Bollinger bolling Bollinger
) ) )
Subject subject Subject
: : :
Re re Re
: : :
Stereo stereo Stereo
sound sound sound
problem problem problem
( ( (
? ? ?
) ) )
on on on
mac mac mac
games game game
Organization organ Organization
: : :
Apple appl Apple
Computer comput Computer
, , ,
Inc inc Inc
. . .
Lines line Lines
: : :
68 68 68
In in In
article articl article
< < <
ingemar ingemar ingemar
. . .
735296165 735296165 735296165
@ @ @
isy isi isy
> > >
Ingemar ingemar Ingemar
Ragnemalm ragnemalm Ragnemalm
, , ,
ingemar ingemar ingemar
@ @ @
isy isi isy
. . .
liu liu liu
. . .
se se se
writes write write
: : :
> > >
> > >
Enter enter Enter
game game game
developers develop developer
. . .
The the The
sound sound sound
driver driver driver
and and and
current current current
sound sound sound
manager manag manager
are are be
> > >
> > >
inconveniently inconveni inconveniently
lame lame lame
for for for
making make make
games game game
. . .
> > >
> > >
The the The
Sound sound Sound
Driver driver Driver
is is be
pretty pretti pretty
ok ok ok
, , ,
since sinc since
it it it
' ' '
s s s
fast fast fast
. . .
Sound sound Sound
Manager manag Manager
used use use
by by by
the the the
> > >
book book book
is is be
* * *
useless useless useless
* * *
. . .
Disposing dispos Disposing
of of of
sound sound sound
channels channel channel
as as as
soon soon soon
as as a
sound sound sound
has has have
completed complet complete
> > >
is is be
out out out
of of of
the the the
question question question
for for for
games game game
with with with
smooth smooth smooth
animation anim animation
. . .
( ( (
It it It
' ' '
s s s
too too too
slow slow slow
. . .
) ) )
Why whi Why
would would would
you you you
dispose dispos dispose
a a a
channel channel channel
if if if
you you you
are are be
going go go
to to to
play play play
more more more
sounds sound sound
soon soon soon
? ? ?
If if If
you you you
are are be
trying tri try
to to to
write write write
a a a
game game game
, , ,
you you you
shouldn shouldn shouldn
' ' '
t t t
be be be
using use use
SndPlay sndplay SndPlay
. . .
Instead instead Instead
, , ,
make make make
a a a
channel channel channel
and and and
use use use
BufferCmds buffercmd BufferCmds
to to to
play play play
sounds sound sound
on on on
it it it
. . .
It it It
works work work
great great great
. . .
You you You
can can can
add add add
CallBacks callback CallBacks
to to to
the the the
channel channel channel
also also also
to to to
let let let
you you you
know know know
when when when
the the the
channel channel channel
is is be
getting get get
empty empti empty
. . .
Before befor Before
it it it
gets get get
empty empti empty
. . .
> > >
> > >
The the The
Sound sound Sound
Driver driver Driver
is is be
so so so
much much much
snappier snappier snappy
than than than
Sound sound Sound
Manager manag Manager
. . .
Unfortunately unfortun Unfortunately
, , ,
> > >
System system System
7 7 7
supports support support
it it it
poorly poor poorly
, , ,
making make make
programs program program
crash crash crash
occasionally occasion occasionally
. . .
> > >
> > >
> > >
The the The
moral moral moral
of of of
the the the
story stori story
is is be
to to to
developers develop developer
: : :
DON don DON
' ' '
T t T
CHEAT cheat CHEAT
! ! !
> > >
> > >
Well well Well
, , ,
I i I
want want want
my my my
code code code
to to to
work work work
on on on
old old old
systems system system
too too too
. . .
I i I
don don don
' ' '
t t t
know know know
about about about
sys sys sys
7 7 7
. . .
1 1 1
, , ,
> > >
but but but
at at at
least least least
on on on
6 6 6
. . .
0 0 0
. . .
7 7 7
, , ,
there there there
are are be
bugs bug bug
in in in
the the the
Sound sound Sound
Manager manag Manager
that that that
causes caus cause
> > >
channels channel channel
to to to
hang hang hang
( ( (
with with with
no no no
error error error
message messag message
) ) )
. . .
This this This
happends happend happends
when when when
I i I
keep keep keep
a a a
> > >
channel channel channel
open open open
for for for
long long long
periods period period
- - -
necessary necessari necessary
for for for
performance perform performance
- - -
and and and
play play play
many mani many
> > >
sounds sound sound
, , ,
stopping stop stop
sounds sound sound
halfway halfway halfway
. . .
Callbacks callback Callbacks
seems seem seem
not not not
to to to
be be be
reliable reliabl reliable
. . .
> > >
Then then Then
only onli only
way way way
I i I
can can can
safely safe safely
tell tell tell
if if if
a a a
sound sound sound
has has have
stopped stop stop
playing play play
is is be
to to to
> > >
inspect inspect inspect
private privat private
variables variabl variable
in in in
the the the
channel channel channel
( ( (
QHead qhead QHead
, , ,
I i I
think think think
it it it
was was be
) ) )
, , ,
and and and
the the the
> > >
only onli only
way way way
I i I
have have have
found found find
to to to
tell tell tell
if if if
a a a
channel channel channel
is is be
hung hung hang
is is be
to to to
inspect inspect inspect
an an an
> > >
* * *
undocumented undocu undocumented
* * *
flag flag flag
and and and
modify modifi modify
it it it
. . .
Callbacks callback Callbacks
are are be
very veri very
reliable reliabl reliable
, , ,
I i I
found found find
them them them
100 100 100
% % %
reliable reliabl reliable
, , ,
even even even
under under under
System system System
4 4 4
. . .
1 1 1
. . .
I i I
was was be
doing do do
continuous continu continuous
background background background
sound sound sound
with with with
interrupting interrupt interrupt
sound sound sound
effects effect effect
on on on
System system System
6 6 6
. . .
0 0 0
with with with
the the the
IM im IM
- - -
V v V
documentation document documentation
. . .
You you You
probably probabl probably
were were be
cancelling cancel cancel
your your your
callback callback callback
commands command command
out out out
of of of
your your your
channels channel channel
, , ,
of of of
course cours course
you you you
didn didn didn
' ' '
t t t
get get get
called call call
. . .
In in In
general general general
, , ,
if if if
you you you
have have have
problems problem problem
with with with
sounds sound sound
working work work
when when when
you you you
play play play
one one one
per per per
channel channel channel
and and and
then then then
close close close
the the the
channel channel channel
( ( (
with with with
the the the
related relat related
slowdown slowdown slowdown
) ) )
, , ,
but but but
then then then
when when when
you you you
play play play
more more more
than than than
one one one
you you you
don don don
' ' '
t t t
work work work
, , ,
then then then
you you you
are are be
adding ad add
more more more
than than than
one one one
synthesizer synthes synthesizer
to to to
a a a
channel channel channel
, , ,
possibly possibl possibly
the the the
same same same
one one one
multiple multipl multiple
times time time
. . .
This this This
might might might
be be be
because becaus because
you you you
are are be
calling call call
SndPlay sndplay SndPlay
on on on
a a a
preexisting preexist preexisting
channel channel channel
with with with
a a a
sound sound sound
resource resourc resource
which which which
adds add add
the the the
sampled sampl sample
sound sound sound
synthesizer synthes synthesizer
to to to
the the the
channel channel channel
first first first
thing thing thing
before befor before
it it it
plays play play
. . .
Most most Most
sampled sampl sampled
sounds sound sound
have have have
this this this
command command command
at at at
the the the
start start start
of of of
them them them
. . .
You you You
need need need
to to to
resedit resedit resedit
the the the
sound sound sound
and and and
remove remov remove
that that that
command command command
, , ,
then then then
when when when
you you you
create creat create
your your your
channel channel channel
, , ,
specify specifi specify
the the the
sampled sampl sample
sound sound sound
synthesizer synthes synthesizer
to to to
be be be
the the the
channel channel channel
' ' '
s s s
synth synth synth
. . .
Then then Then
you you you
can can can
use use use
asynch asynch asynch
sndplay sndplay sndplay
' ' '
s s s
all all all
you you you
want want want
. . .
You you You
' ' '
ll ll ll
probably probabl probably
want want want
to to to
switch switch switch
to to to
BufferCmd buffercmd BufferCmd
' ' '
s s s
, , ,
since sinc since
you you you
are are be
going go go
to to to
have have have
to to to
use use use
SndDoCommand snddocommand SndDoCommand
anyway anyway anyway
to to to
add add add
callbacks callback callback
. . .
Now now Now
before befor before
you you you
go go go
ahead ahead ahead
and and and
tell tell tell
me me me
I i I
am am be
full full full
of of of
it it it
, , ,
and and and
the the the
sound sound sound
manager manag manager
doesn doesn doesn
' ' '
t t t
work work work
for for for
games game game
, , ,
remember rememb remember
, , ,
Spectre spectr Spectre
uses use use
it it it
. . .
And and And
it it it
works work work
great great great
. . .
If if If
Spectre spectr Spectre
can can can
spare spare spare
the the the
CPU cpu CPU
time time time
, , ,
you you you
can can can
too too too
. . .
One one One
little littl little
disclaimer disclaim disclaimer
: : :
There there There
are are be
some some some
out out out
there there there
who who who
say say say
the the the
Sound sound Sound
Manager manag Manager
in in in
the the the
IIsi iisi IIsi
can can can
' ' '
t t t
be be be
made made make
to to to
work work work
right right right
. . .
I i I
' ' '
m m m
not not not
sure sure sure
either either either
way way way
, , ,
but but but
I i I
know know know
for for for
sure sure sure
that that that
you you you
can can can
make make make
your your your
sounds sound sound
work work work
100 100 100
% % %
correctly correct correctly
on on on
every everi every
other other other
machine machin machine
using use use
the the the
Sound sound Sound
Manager manag Manager
. . .
- - -
Steve steve Steve
