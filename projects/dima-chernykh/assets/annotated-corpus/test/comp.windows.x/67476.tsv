From from From
: : :
david david david
@ @ @
pop pop pop
( ( (
David david David
E e E
. . .
Smyth smyth Smyth
) ) )
Subject subject Subject
: : :
Re re Re
: : :
R r R
5 5 5
table tabl table
widget widget widget
causing caus cause
trouble troubl trouble
with with with
XtQueryGeometry xtquerygeometri XtQueryGeometry
Nntp nntp Nntp
- - -
Posting post Posting
- - -
Host host Host
: : :
pop pop pop
Organization organ Organization
: : :
Jet jet Jet
Propulsion propuls Propulsion
Laboratory laboratori Laboratory
( ( (
NASA nasa NASA
) ) )
Lines line Lines
: : :
102 102 102
I i I
just just just
got got get
a a a
bug bug bug
report report report
and and and
a a a
fix fix fix
for for for
this this this
exact exact exact
problem problem problem
from from from
fisher fisher fisher
@ @ @
iscp iscp iscp
. . .
bellcore bellcor bellcore
. . .
com com com
( ( (
Greg greg Greg
Fisher fisher Fisher
) ) )
: : :
> > >
. . .
. . .
. . .
the the the
most most most
serious serious serious
problem problem problem
I i I
have have have
identified identifi identify
has has have
not not not
> > >
been been be
incorporated incorpor incorporate
. . .
This this This
problem problem problem
occurs occur occur
when when when
the the the
Table tabl Table
widget widget widget
' ' '
s s s
> > >
GeometryManager geometrymanag GeometryManager
is is be
invoked invok invoke
by by by
a a a
child child child
. . .
This this This
will will will
work work work
correctly correct correctly
if if if
> > >
the the the
table tabl table
widgets widget widget
parent parent parent
complies compli complies
with with with
the the the
Xt xt Xt
protocols protocol protocol
. . .
However howev However
, , ,
if if if
> > >
they they they
do do do
not not not
, , ,
as as a
is is be
the the the
case case case
for for for
some some some
Motif motif Motif
widgets widget widget
, , ,
and and and
they they they
ignore ignor ignore
> > >
XtCWQueryOnly xtcwqueryon XtCWQueryOnly
, , ,
then then then
the the the
sizing size sizing
will will will
be be be
incorrect incorrect incorrect
. . .
> > >
In in In
order order order
to to to
see see see
this this this
problem problem problem
, , ,
the the the
following follow following
events event event
must must must
> > >
happen happen happen
: : :
> > >
1 1 1
. . .
A a A
child child child
of of of
the the the
table tabl table
widget widget widget
must must must
request request request
a a a
new new new
size size size
. . .
> > >
2 2 2
. . .
The the The
table tabl table
widget widget widget
must must must
query queri query
its it it
parent parent parent
for for for
a a a
new new new
size size size
having have have
set set set
> > >
XtCWQueryOnly xtcwqueryon XtCWQueryOnly
. . .
> > >
3 3 3
. . .
The the The
parent parent parent
must must must
ignore ignor ignore
the the the
XtCWQueryOnly xtcwqueryon XtCWQueryOnly
bit bit bit
and and and
resize resiz resize
the the the
table tabl table
> > >
widget widget widget
. . .
As as As
part part part
of of of
the the the
resize resiz resize
, , ,
XmpTableForgetProposedLayout xmptableforgetproposedlayout XmpTableForgetProposedLayout
is is be
> > >
called call call
. . .
This this This
will will will
set set set
tw tw tw
- - -
> > >
table tabl table
. . .
current current current
_ _ _
cols col col
and and and
> > >
tw tw tw
- - -
> > >
table tabl table
. . .
current current current
_ _ _
rows row row
to to to
zero zero zero
. . .
> > >
4 4 4
. . .
The the The
table tabl table
will will will
continue continu continue
setting set set
up up up
the the the
new new new
size size size
, , ,
working work work
under under under
the the the
> > >
assumption assumpt assumption
that that that
it it it
is is be
working work work
with with with
a a a
proposed propos propose
and and and
not not not
actual actual actual
> > >
layout layout layout
. . .
At at At
the the the
end end end
, , ,
it it it
will will will
call call call
XmpTableSaveProposedLayout xmptablesaveproposedlayout XmpTableSaveProposedLayout
. . .
This this This
> > >
will will will
save save save
tw tw tw
- - -
> > >
table tabl table
. . .
cols col col
and and and
tw tw tw
- - -
> > >
table tabl table
. . .
rows row row
and and and
restore restor restore
their their their
> > >
values valu value
from from from
tw tw tw
- - -
> > >
table tabl table
. . .
current current current
_ _ _
cols col col
and and and
tw tw tw
- - -
> > >
table tabl table
. . .
current current current
_ _ _
rows row row
. . .
> > >
However howev However
, , ,
these these these
have have have
already alreadi already
been been be
set set set
to to to
zero zero zero
. . .
> > >
5 5 5
. . .
Since sinc Since
the the the
table tabl table
widget widget widget
has has have
already alreadi already
been been be
resized resiz resize
, , ,
it it it
will will will
not not not
need need need
a a a
> > >
second second second
resize resiz resize
. . .
> > >
6 6 6
. . .
Next next Next
, , ,
another anoth another
widget widget widget
managed manag manage
by by by
some some some
ancestor ancestor ancestor
of of of
the the the
table tabl table
is is be
> > >
resized resiz resize
. . .
This this This
results result result
in in in
the the the
parent parent parent
of of of
the the the
table tabl table
requesting request request
the the the
> > >
tables tabl table
preferred prefer prefer
size size size
. . .
Since sinc Since
tw tw tw
- - -
> > >
table tabl table
. . .
cols col col
and and and
tw tw tw
- - -
> > >
table tabl table
. . .
rows row row
are are be
> > >
zero zero zero
, , ,
this this this
will will will
return return return
0 0 0
x x x
0 0 0
as as a
the the the
preferred prefer preferred
size size size
. . .
> > >
7 7 7
. . .
The the The
parent parent parent
is is be
very veri very
likely like likely
to to to
grant grant grant
this this this
request request request
, , ,
resulting result result
in in in
a a a
> > >
loss loss loss
of of of
the the the
whole whole whole
table tabl table
from from from
the the the
display display display
. . .
> > >
He he He
isolated isol isolate
the the the
problem problem problem
a a a
proposed propos propose
a a a
workaround workaround workaround
which which which
seems seem seem
precisely precis precisely
correct correct correct
. . .
Here here Here
is is be
the the the
new new new
implementation implement implementation
of of of
XmpTableNewProposedLayout xmptablenewproposedlayout XmpTableNewProposedLayout
which which which
will will will
be be be
released releas release
with with with
the the the
next next next
update updat update
in in in
5 5 5
weeks week week
: : :
Xmp xmp Xmp
/ / /
Table tabl Table
. . .
c c c
: : :
void void void
XmpTableNewProposedLayout xmptablenewproposedlayout XmpTableNewProposedLayout
( ( (
tw tw tw
) ) )
XmpTableWidget xmptablewidget XmpTableWidget
tw tw tw
; ; ;
{ { {
XmpTableConsiderSameSize xmptableconsidersames XmpTableConsiderSameSize
( ( (
tw tw tw
) ) )
; ; ;
XmpTableProposedColsAndRows xmptableproposedcolsandrow XmpTableProposedColsAndRows
( ( (
tw tw tw
) ) )
; ; ;
XmpTableQueryParentForResize xmptablequeryparentforres XmpTableQueryParentForResize
( ( (
tw tw tw
) ) )
; ; ;
/ / /
* * *
query queri query
only onli only
, , ,
no no no
resize resiz resize
* * *
/ / /
/ / /
* * *
* * *
Since sinc Since
we we we
only onli only
made made make
a a a
query queri query
, , ,
we we we
* * *
should should should
* * *
still still still
need need need
to to to
continue continu continue
. . .
* * *
However howev However
, , ,
Motif motif Motif
is is be
broken broken break
so so so
that that that
we we we
actually actual actually
may may may
already alreadi already
have have have
* * *
been been be
resized resiz resize
. . .
In in In
that that that
case case case
, , ,
the the the
proposed propos propose
layout layout layout
is is be
already alreadi already
* * *
forgotten forgotten forgotten
, , ,
so so so
we we we
should should should
just just just
quietly quiet quietly
exit exit exit
. . .
* * *
/ / /
if if if
( ( (
tw tw tw
- - -
> > >
table tabl table
. . .
resize resiz resize
_ _ _
status status status
= = =
= = =
RSdueToRequest rsduetorequest RSdueToRequest
) ) )
{ { {
XmpTableMakeColsFitQueryWidth xmptablemakecolsfitquerywidth XmpTableMakeColsFitQueryWidth
( ( (
tw tw tw
) ) )
; ; ;
XmpTableMakeRowsFitQueryHeight xmptablemakerowsfitqueryheight XmpTableMakeRowsFitQueryHeight
( ( (
tw tw tw
) ) )
; ; ;
XmpTableGetProposedChildSize xmptablegetproposedchilds XmpTableGetProposedChildSize
( ( (
tw tw tw
) ) )
; ; ;
XmpTableSaveProposedLayout xmptablesaveproposedlayout XmpTableSaveProposedLayout
( ( (
tw tw tw
) ) )
; ; ;
} } }
/ / /
* * *
else els else
the the the
resize resiz resize
has has have
already alreadi already
been been be
done done do
. . .
Our our Our
proposed propos propose
layout layout layout
would would would
* * *
have have have
been been be
forgotten forgotten forget
in in in
the the the
process process process
. . .
* * *
/ / /
} } }
The the The
XpTable xptabl XpTable
the the the
fix fix fix
is is be
identical ident identical
, , ,
except except except
of of of
course cours course
for for for
the the the
names name name
: : :
Xp xp Xp
/ / /
Table tabl Table
. . .
c c c
: : :
void void void
XpTableNewProposedLayout xptablenewproposedlayout XpTableNewProposedLayout
( ( (
tw tw tw
) ) )
XpTableWidget xptablewidget XpTableWidget
tw tw tw
; ; ;
{ { {
XpTableConsiderSameSize xptableconsidersames XpTableConsiderSameSize
( ( (
tw tw tw
) ) )
; ; ;
XpTableProposedColsAndRows xptableproposedcolsandrow XpTableProposedColsAndRows
( ( (
tw tw tw
) ) )
; ; ;
XpTableQueryParentForResize xptablequeryparentforres XpTableQueryParentForResize
( ( (
tw tw tw
) ) )
; ; ;
/ / /
* * *
query queri query
only onli only
, , ,
no no no
resize resiz resize
* * *
/ / /
/ / /
* * *
* * *
Since sinc Since
we we we
only onli only
made made make
a a a
query queri query
, , ,
we we we
* * *
should should should
* * *
still still still
need need need
to to to
continue continu continue
. . .
* * *
However howev However
, , ,
some some some
manager manag manager
widgets widget widget
are are be
broken broken break
so so so
that that that
we we we
actually actual actually
may may may
* * *
already alreadi already
have have have
* * *
been been be
resized resiz resize
. . .
In in In
that that that
case case case
, , ,
the the the
proposed propos propose
layout layout layout
* * *
is is be
already alreadi already
forgotten forgotten forget
, , ,
so so so
we we we
should should should
just just just
quietly quiet quietly
exit exit exit
. . .
* * *
/ / /
if if if
( ( (
tw tw tw
- - -
> > >
table tabl table
. . .
resize resiz resize
_ _ _
status status status
= = =
= = =
RSdueToRequest rsduetorequest RSdueToRequest
) ) )
{ { {
XpTableMakeColsFitQueryWidth xptablemakecolsfitquerywidth XpTableMakeColsFitQueryWidth
( ( (
tw tw tw
) ) )
; ; ;
XpTableMakeRowsFitQueryHeight xptablemakerowsfitqueryheight XpTableMakeRowsFitQueryHeight
( ( (
tw tw tw
) ) )
; ; ;
XpTableGetProposedChildSize xptablegetproposedchilds XpTableGetProposedChildSize
( ( (
tw tw tw
) ) )
; ; ;
XpTableSaveProposedLayout xptablesaveproposedlayout XpTableSaveProposedLayout
( ( (
tw tw tw
) ) )
; ; ;
} } }
/ / /
* * *
else els else
the the the
resize resiz resize
has has have
already alreadi already
been been be
done done do
. . .
Our our Our
proposed propos propose
layout layout layout
would would would
* * *
have have have
been been be
forgotten forgotten forget
in in in
the the the
process process process
. . .
* * *
/ / /
} } }
- - -
- - -
- - -
- - -
- - -
- - -
- - -
- - -
- - -
- - -
- - -
- - -
- - -
- - -
- - -
- - -
- - -
- - -
- - -
- - -
- - -
- - -
- - -
- - -
- - -
- - -
- - -
- - -
- - -
- - -
- - -
- - -
- - -
- - -
- - -
- - -
- - -
- - -
- - -
- - -
- - -
- - -
- - -
- - -
- - -
- - -
- - -
- - -
- - -
- - -
- - -
- - -
- - -
- - -
- - -
- - -
- - -
- - -
- - -
- - -
- - -
- - -
- - -
- - -
- - -
- - -
- - -
- - -
- - -
- - -
- - -
- - -
- - -
David david David
Smyth smyth Smyth
david david david
@ @ @
jpl jpl jpl
- - -
devvax devvax devvax
. . .
jpl jpl jpl
. . .
nasa nasa nasa
. . .
gov gov gov
Senior senior Senior
Software softwar Software
Engineer engin Engineer
, , ,
( ( (
818 818 818
) ) )
306 306 306
- - -
6193 6193 6193
( ( (
do do do
NOT not NOT
use use use
v v v
- - -
mail mail mail
yet yet yet
! ! !
) ) )
CCCP cccp CCCP
, , ,
X x X
and and and
Object object Object
Guru guru Guru
. . .
office offic office
: : :
525 525 525
/ / /
C c C
165 165 165
Jet jet Jet
Propulsion propuls Propulsion
Lab lab Lab
, , ,
M m M
/ / /
S s S
525 525 525
- - -
3660 3660 3660
4800 4800 4800
Oak oak Oak
Grove grove Grove
Drive drive Drive
, , ,
Pasadena pasadena Pasadena
, , ,
CA ca CA
91109 91109 91109
- - -
- - -
- - -
- - -
- - -
- - -
- - -
- - -
- - -
- - -
- - -
- - -
- - -
- - -
- - -
- - -
- - -
- - -
- - -
- - -
- - -
- - -
- - -
- - -
- - -
- - -
- - -
- - -
- - -
- - -
- - -
- - -
- - -
- - -
- - -
- - -
- - -
- - -
- - -
- - -
- - -
- - -
- - -
- - -
- - -
- - -
- - -
- - -
- - -
- - -
- - -
- - -
- - -
- - -
- - -
- - -
- - -
- - -
- - -
- - -
- - -
- - -
- - -
- - -
- - -
- - -
- - -
- - -
- - -
- - -
- - -
- - -
- - -
" " "
That that That
Sun sun Sun
Windows window Windows
thingy thingi thingy
, , ,
what what what
' ' '
s s s
it it it
called call call
? ? ?
You you You
know know know
, , ,
its it it
really realli really
awful aw awful
. . .
X x X
? ? ?
Motif motif Motif
? ? ?
That that That
' ' '
s s s
it it it
- - -
Motif motif Motif
! ! !
Yuck yuck Yuck
! ! !
" " "
- - -
- - -
- - -
- - -
- - -
- - -
- - -
- - -
- - -
- - -
- - -
- - -
- - -
- - -
- - -
- - -
- - -
- - -
- - -
- - -
- - -
- - -
- - -
- - -
- - -
- - -
- - -
- - -
- - -
- - -
- - -
- - -
- - -
- - -
- - -
- - -
- - -
- - -
- - -
- - -
- - -
- - -
- - -
- - -
- - -
- - -
- - -
- - -
- - -
- - -
- - -
- - -
- - -
- - -
- - -
- - -
- - -
- - -
- - -
- - -
- - -
- - -
- - -
- - -
- - -
- - -
- - -
- - -
- - -
- - -
- - -
- - -
- - -
