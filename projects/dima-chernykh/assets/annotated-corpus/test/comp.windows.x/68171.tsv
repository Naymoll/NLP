From from From
: : :
doug doug doug
@ @ @
foxtrot foxtrot foxtrot
. . .
ccmrc ccmrc ccmrc
. . .
ucsb ucsb ucsb
. . .
edu edu edu
( ( (
Douglas dougla Douglas
Scott scott Scott
) ) )
Subject subject Subject
: : :
Help help Help
with with with
porting port port
screensaver screensav screensaver
function function function
Organization organ Organization
: : :
Center center Center
for for for
Computer comput Computer
Music music Music
Research research Research
and and and
Composition composit Composition
, , ,
U u U
. . .
C c C
. . .
S s S
. . .
B b B
. . .
Lines line Lines
: : :
49 49 49
This this This
is is be
a a a
question question question
aimed aim aim
at at at
those those those
who who who
have have have
done done do
some some some
server server server
code code code
hacking hack hacking
: : :
I i I
am am be
attempting attempt attempt
to to to
add add add
a a a
working work work
SaveScreen savescreen SaveScreen
function function function
to to to
a a a
new new new
server server server
. . .
I i I
have have have
been been be
able abl able
to to to
get get get
the the the
screen screen screen
to to to
blank blank blank
out out out
properly proper properly
, , ,
and and and
through through through
debugging debug debug
I i I
can can can
see see see
that that that
my my my
savescreen savescreen savescreen
function function function
is is be
being be be
called call call
with with with
on on on
= = =
0 0 0
, , ,
which which which
( ( (
for for for
some some some
arcane arcan arcane
reason reason reason
) ) )
means mean mean
to to to
blank blank blank
the the the
screen screen screen
. . .
My my My
problem problem problem
is is be
that that that
this this this
function function function
is is be
never never never
being be be
called call call
again again again
with with with
on on on
= = =
1 1 1
, , ,
even even even
after after after
I i I
have have have
moved move move
the the the
mouse mous mouse
and and and
/ / /
or or or
typed type type
some some some
keys key key
. . .
My my My
question question question
is is be
: : :
what what what
am am be
I i I
likely like likely
to to to
be be be
missing miss miss
that that that
would would would
cause caus cause
this this this
problem problem problem
? ? ?
I i I
copied copi copy
the the the
basic basic basic
design design design
of of of
my my my
function function function
from from from
the the the
existing exist exist
versions version version
: : :
static static static
Bool bool Bool
next next next
_ _ _
savescreen savescreen savescreen
( ( (
scr scr scr
, , ,
on on on
) ) )
ScreenPtr screenptr ScreenPtr
scr scr scr
; ; ;
Bool bool Bool
on on on
; ; ;
{ { {
/ / /
* * *
this this this
was was be
copied copi copy
from from from
the the the
omron omron omron
server server server
code code code
- - -
- - -
is is be
it it it
the the the
right right right
way way way
? ? ?
* * *
/ / /
if if if
( ( (
on on on
! ! !
= = =
SCREEN screen SCREEN
_ _ _
SAVER saver SAVER
_ _ _
ON on ON
) ) )
{ { {
nextSetLastEventTime nextsetlasteventtim nextSetLastEventTime
( ( (
) ) )
; ; ;
} } }
if if if
( ( (
on on on
= = =
= = =
SCREEN screen SCREEN
_ _ _
SAVER saver SAVER
_ _ _
ON on ON
) ) )
{ { {
/ / /
* * *
Save save Save
user user user
' ' '
s s s
current current current
setting set set
* * *
/ / /
next next next
_ _ _
save save save
_ _ _
screen screen screen
_ _ _
brightness bright brightness
= = =
NXScreenBrightness nxscreenbright NXScreenBrightness
( ( (
my my my
_ _ _
eventhandle eventhandl eventhandle
) ) )
; ; ;
NXSetScreenBrightness nxsetscreenbright NXSetScreenBrightness
( ( (
my my my
_ _ _
eventhandle eventhandl eventhandle
, , ,
0 0 0
. . .
0 0 0
) ) )
; ; ;
/ / /
* * *
Blank blank Blank
the the the
screen screen screen
* * *
/ / /
} } }
else els else
{ { {
/ / /
* * *
Unblank unblank Unblank
the the the
screen screen screen
* * *
/ / /
NXSetScreenBrightness nxsetscreenbright NXSetScreenBrightness
( ( (
my my my
_ _ _
eventhandle eventhandl eventhandle
, , ,
next next next
_ _ _
save save save
_ _ _
screen screen screen
_ _ _
brightness bright brightness
) ) )
; ; ;
} } }
return return return
TRUE true TRUE
; ; ;
} } }
I i I
can can can
see see see
in in in
the the the
server server server
/ / /
os os o
code code code
where where where
the the the
screensaver screensav screensaver
is is be
called call call
to to to
turn turn turn
on on on
the the the
saver saver saver
, , ,
but but but
I i I
cannot cannot cannot
find find find
where where where
it it it
" " "
wakes wake wake
up up up
" " "
the the the
server server server
and and and
unblanks unblank unblanks
the the the
screen screen screen
. . .
Any ani Any
tips tip tip
/ / /
help help help
would would would
be be be
appreciated appreci appreciate
. . .
Thanks thank Thanks
. . .
- - -
- - -
Douglas dougla Douglas
Scott scott Scott
( ( (
805 805 805
) ) )
893 893 893
- - -
8352 8352 8352
Center center Center
for for for
Computer comput Computer
Music music Music
Research research Research
and and and
Composition composit Composition
University univers University
of of of
California california California
, , ,
Santa santa Santa
Barbara barbara Barbara
Internet internet Internet
: : :
( ( (
NeXTMail nextmail NeXTMail
ok ok ok
) ) )
< < <
doug doug doug
@ @ @
foxtrot foxtrot foxtrot
. . .
ccmrc ccmrc ccmrc
. . .
ucsb ucsb ucsb
. . .
edu edu edu
> > >
