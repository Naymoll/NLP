From from From
: : :
bnoble bnobl bnoble
+ + +
@ @ @
cs cs c
. . .
cmu cmu cmu
. . .
edu edu edu
( ( (
Brian brian Brian
Noble nobl Noble
) ) )
Subject subject Subject
: : :
X x X
Server server Server
scanline scanlin scanline
padding pad pad
question question question
Nntp nntp Nntp
- - -
Posting post Posting
- - -
Host host Host
: : :
bach bach bach
. . .
coda coda coda
. . .
cs cs c
. . .
cmu cmu cmu
. . .
edu edu edu
Organization organ Organization
: : :
School school School
of of of
Computer comput Computer
Science scienc Science
, , ,
Carnegie carnegi Carnegie
Mellon mellon Mellon
Lines line Lines
: : :
42 42 42
I i I
am am be
* * *
almost almost almost
* * *
done done do
porting port port
XFree xfree XFree
86 86 86
1 1 1
. . .
2 2 2
to to to
a a a
new new new
piece piec piece
of of of
display display display
hardware hardwar hardware
, , ,
but but but
have have have
run run run
into into into
a a a
snag snag snag
I i I
think think think
may may may
be be be
somewhat somewhat somewhat
commonplace commonplac commonplace
, , ,
so so so
I i I
' ' '
m m m
sending send send
a a a
net net net
- - -
feeler feeler feeler
. . .
I i I
have have have
a a a
display display display
that that that
is is be
a a a
non non non
- - -
interlaced interlac interlaced
, , ,
memory memori memory
mapped map map
, , ,
1 1 1
- - -
bit bit bit
720 720 720
x x x
280 280 280
display display display
. . .
The the The
server server server
' ' '
s s s
view view view
of of of
the the the
world world world
, , ,
( ( (
obtained obtain obtain
via via via
xwd xwd xwd
| | |
xwud xwud xwud
) ) )
, , ,
seems seem seem
to to to
be be be
exactly exact exactly
what what what
it it it
should should should
be be be
. . .
However howev However
, , ,
the the the
displayed display displayed
version version version
of of of
the the the
framebuffer framebuff framebuffer
gives give give
the the the
impression impress impression
that that that
the the the
server server server
is is be
using use use
scanlines scanlin scanlines
that that that
are are be
too too too
long long long
. . .
After after After
a a a
bit bit bit
of of of
experimentation experiment experimentation
, , ,
it it it
seems seem seem
that that that
the the the
problem problem problem
was was be
that that that
the the the
server server server
was was be
padding pad pad
the the the
line line line
out out out
to to to
a a a
word word word
boundry boundri boundry
, , ,
but but but
the the the
scanline scanlin scanline
size size size
in in in
the the the
buffer buffer buffer
is is be
90 90 90
bytes byte byte
, , ,
which which which
isn isn isn
' ' '
t t t
exactly exact exactly
divisible divis divisible
by by by
four four four
. . .
Changing chang Changing
the the the
following follow following
defines defin defines
in in in
mit mit mit
/ / /
server server server
/ / /
include includ include
/ / /
servermd servermd servermd
. . .
h h h
: : :
- - -
- - -
- - -
- - -
# # #
define defin define
BITMAP bitmap BITMAP
_ _ _
SCANLINE scanlin SCANLINE
_ _ _
PAD pad PAD
32 32 32
# # #
define defin define
LOG log LOG
2 2 2
_ _ _
BITMAP bitmap BITMAP
_ _ _
PAD pad PAD
5 5 5
# # #
define defin define
LOG log LOG
2 2 2
_ _ _
BYTES byte BYTES
_ _ _
PER per PER
_ _ _
SCANLINE scanlin SCANLINE
_ _ _
PAD pad PAD
2 2 2
- - -
- - -
- - -
to to to
: : :
- - -
- - -
- - -
# # #
define defin define
BITMAP bitmap BITMAP
_ _ _
SCANLINE scanlin SCANLINE
_ _ _
PAD pad PAD
16 16 16
# # #
define defin define
LOG log LOG
2 2 2
_ _ _
BITMAP bitmap BITMAP
_ _ _
PAD pad PAD
4 4 4
# # #
define defin define
LOG log LOG
2 2 2
_ _ _
BYTES byte BYTES
_ _ _
PER per PER
_ _ _
SCANLINE scanlin SCANLINE
_ _ _
PAD pad PAD
2 2 2
- - -
- - -
- - -
Was was Was
not not not
exactly exact exactly
the the the
right right right
solution solut solution
. . .
How how How
do do do
I i I
tell tell tell
the the the
server server server
either either either
( ( (
a a a
) ) )
don don don
' ' '
t t t
pad pad pad
the the the
scan scan scan
lines line line
at at at
all all all
( ( (
' ' '
cause caus cause
this this this
server server server
is is be
only onli only
being be be
built built build
to to to
run run run
on on on
this this this
particular particular particular
display display display
) ) )
, , ,
or or or
to to to
pad pad pad
only onli only
to to to
byte byte byte
boundries boundri boundries
? ? ?
I i I
' ' '
m m m
using use use
a a a
customized custom customized
version version version
of of of
XFree xfree XFree
86 86 86
v v v
1 1 1
. . .
2 2 2
, , ,
under under under
Mach mach Mach
3 3 3
. . .
0 0 0
. . .
Thanks thank Thanks
Brian brian Brian
