From from From
: : :
vinod vinod vinod
@ @ @
sommerfeld sommerfeld sommerfeld
. . .
WPI wpi WPI
. . .
EDU edu EDU
( ( (
Vinod vinod Vinod
K k K
Nair nair Nair
) ) )
Subject subject Subject
: : :
using use use
XTERM xterm XTERM
to to to
display display display
output output output
{ { {
? ? ?
} } }
Organization organ Organization
: : :
Worcester worcest Worcester
Polytechnic polytechn Polytechnic
Institute institut Institute
, , ,
Worcester worcest Worcester
, , ,
MA ma MA
Lines line Lines
: : :
46 46 46
Distribution distribut Distribution
: : :
world world world
NNTP nntp NNTP
- - -
Posting post Posting
- - -
Host host Host
: : :
sommerfeld sommerfeld sommerfeld
. . .
wpi wpi wpi
. . .
edu edu edu
Hello hello Hello
, , ,
I i I
am am be
writing write write
a a a
program program program
which which which
forks fork fork
of of of
a a a
number number number
of of of
child child child
processes process process
and and and
each each each
of of of
the the the
children children child
printing print print
things thing thing
on on on
the the the
screen screen screen
( ( (
quite quit quite
messy messi messy
in in in
one one one
window window window
) ) )
. . .
. . .
. . .
The the The
" " "
xterm xterm xterm
- - -
Sxxd sxxd Sxxd
" " "
option option option
seems seem seem
to to to
be be be
the the the
solution solut solution
to to to
opening open open
up up up
slave slave slave
windows window window
only onli only
to to to
display display display
output output output
and and and
I i I
use use use
the the the
following follow following
code code code
to to to
open open open
up up up
a a a
pty pti pty
( ( (
taken taken take
from from from
Stevens steven Stevens
) ) )
. . .
. . .
. . .
and and and
manage manag manage
to to to
open open open
up up up
an an an
x x x
- - -
term term term
successfully success successfully
. . .
. . .
. . .
. . .
The the The
problem problem problem
however howev however
is is be
how how how
do do do
I i I
write write write
into into into
this this this
x x x
- - -
term term term
? ? ?
Please pleas Please
help help help
! ! !
static static static
char char char
pty pti pty
_ _ _
name name name
[ [ [
12 12 12
] ] ]
; ; ;
int int int
pty pti pty
_ _ _
master master master
( ( (
void void void
) ) )
; ; ;
int int int
pty pti pty
_ _ _
master master master
( ( (
void void void
) ) )
{ { {
int int int
i i i
, , ,
fd fd fd
; ; ;
char char char
* * *
ptr ptr ptr
; ; ;
struct struct struct
stat stat stat
statbuff statbuff statbuff
; ; ;
static static static
char char char
ptychar ptychar ptychar
[ [ [
] ] ]
= = =
" " "
pqrs pqrs pqrs
" " "
; ; ;
static static static
char char char
hexdigit hexdigit hexdigit
[ [ [
] ] ]
= = =
" " "
0123456789 0123456789 0123456789
abcdef abcdef abcdef
" " "
; ; ;
for for for
( ( (
ptr ptr ptr
= = =
ptychar ptychar ptychar
; ; ;
* * *
ptr ptr ptr
! ! !
= = =
0 0 0
; ; ;
ptr ptr ptr
+ + +
+ + +
) ) )
{ { {
strcpy strcpi strcpy
( ( (
pty pti pty
_ _ _
name name name
, , ,
" " "
/ / /
dev dev dev
/ / /
ttyXY ttyxi ttyXY
" " "
) ) )
; ; ;
pty pti pty
_ _ _
name name name
[ [ [
8 8 8
] ] ]
= = =
* * *
ptr ptr ptr
; ; ;
pty pti pty
_ _ _
name name name
[ [ [
9 9 9
] ] ]
= = =
' ' '
0 0 0
' ' '
; ; ;
if if if
( ( (
stat stat stat
( ( (
pty pti pty
_ _ _
name name name
, , ,
& & &
statbuff statbuff statbuff
) ) )
< < <
0 0 0
) ) )
break break break
; ; ;
for for for
( ( (
i i i
= = =
0 0 0
; ; ;
i i i
< < <
16 16 16
; ; ;
i i i
+ + +
+ + +
) ) )
{ { {
pty pti pty
_ _ _
name name name
[ [ [
9 9 9
] ] ]
= = =
hexdigit hexdigit hexdigit
[ [ [
i i i
] ] ]
; ; ;
if if if
( ( (
( ( (
fd fd fd
= = =
open open open
( ( (
pty pti pty
_ _ _
name name name
, , ,
O o O
_ _ _
RDWR rdwr RDWR
) ) )
) ) )
> > >
= = =
0 0 0
) ) )
return return return
( ( (
fd fd fd
) ) )
; ; ;
} } }
} } }
return return return
( ( (
- - -
1 1 1
) ) )
; ; ;
} } }
- - -
- - -
Vinod vinod Vinod
email email email
: : :
vinod vinod vinod
@ @ @
ee ee ee
. . .
wpi wpi wpi
. . .
edu edu edu
An an An
eye eye eye
for for for
an an an
eye eye eye
makes make make
the the the
whole whole whole
world world world
blind blind blind
- - -
Mohandas mohanda Mohandas
Karamchand karamchand Karamchand
Gandhi gandhi Gandhi
