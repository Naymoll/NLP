From from From
: : :
iop iop iop
@ @ @
server server server
2 2 2
. . .
iie iie iie
. . .
ncku ncku ncku
. . .
edu edu edu
. . .
tw tw tw
Subject subject Subject
: : :
Program program Program
WM wm WM
_ _ _
PROTOCOLS protocol PROTOCOLS
in in in
OPEN open OPEN
LOOK look LOOK
toolkit toolkit toolkit
. . .
. . .
. . .
. . .
. . .
Organization organ Organization
: : :
CASD casd CASD
Lab lab Lab
. . .
Lines line Lines
: : :
195 195 195
Hi hi Hi
, , ,
all all all
: : :
I i I
am am be
studying studi study
the the the
book book book
- - -
- - -
> > >
" " "
UNIX unix UNIX
Desktop desktop Desktop
Guide guid Guide
to to to
OPEN open OPEN
LOOK look LOOK
" " "
. . .
There there There
is is be
an an an
example exampl example
- - -
- - -
> > >
winprop winprop winprop
. . .
c c c
that that that
demonstrate demonstr demonstrate
how how how
to to to
program program program
WM wm WM
_ _ _
PROTOCOLS protocol PROTOCOLS
property properti property
in in in
chapter chapter chapter
8 8 8
. . .
It it It
can can can
run run run
, , ,
but but but
only onli only
show show show
the the the
static static static
text text text
messages messag message
, , ,
no no no
Notice notic Notice
pop pop pop
_ _ _
up up up
. . .
What what What
is is be
the the the
problem problem problem
? ? ?
Thanks thank Thanks
in in in
advance advanc advance
for for for
help help help
! ! !
! ! !
1 1 1
IOP iop IOP
/ / /
* * *
- - -
- - -
- - -
- - -
- - -
- - -
- - -
- - -
- - -
- - -
- - -
- - -
- - -
- - -
- - -
- - -
- - -
- - -
- - -
- - -
- - -
- - -
- - -
- - -
- - -
- - -
- - -
- - -
- - -
- - -
- - -
- - -
- - -
- - -
- - -
- - -
- - -
- - -
- - -
- - -
- - -
- - -
- - -
- - -
- - -
- - -
- - -
- - -
- - -
- - -
- - -
- - -
- - -
- - -
- - -
- - -
- - -
- - -
- - -
- - -
- - -
* * *
/ / /
/ / /
* * *
File file File
: : :
winprop winprop winprop
. . .
c c c
* * *
* * *
Shows show Shows
how how how
to to to
set set set
properties properti property
on on on
a a a
window window window
. . .
* * *
* * *
/ / /
# # #
include includ include
< < <
X x X
11 11 11
/ / /
Xatom xatom Xatom
. . .
h h h
> > >
/ / /
* * *
For for For
definition definit definition
of of of
XA xa XA
_ _ _
ATOM atom ATOM
* * *
/ / /
# # #
include includ include
< < <
X x X
11 11 11
/ / /
Intrinsic intrins Intrinsic
. . .
h h h
> > >
# # #
include includ include
< < <
X x X
11 11 11
/ / /
StringDefs stringdef StringDefs
. . .
h h h
> > >
# # #
include includ include
< < <
Xol xol Xol
/ / /
OpenLook openlook OpenLook
. . .
h h h
> > >
# # #
include includ include
< < <
Xol xol Xol
/ / /
StaticText statictext StaticText
. . .
h h h
> > >
# # #
include includ include
< < <
Xol xol Xol
/ / /
OblongButt oblongbutt OblongButt
. . .
h h h
> > >
# # #
include includ include
< < <
Xol xol Xol
/ / /
Notice notic Notice
. . .
h h h
> > >
/ / /
* * *
This this This
file file file
defines defin define
the the the
atoms atom atom
with with with
_ _ _
OL ol OL
_ _ _
prefix prefix prefix
* * *
/ / /
/ / /
* * *
ID id ID
of of of
the the the
top top top
- - -
level level level
and and and
NoticeShell noticeshel NoticeShell
widget widget widget
* * *
/ / /
static static static
Widget widget Widget
top top top
_ _ _
level level level
, , ,
notice notic notice
_ _ _
shell shell shell
; ; ;
static static static
Widget widget Widget
make make make
_ _ _
notice notic notice
( ( (
) ) )
; ; ;
static static static
char char char
message messag message
[ [ [
] ] ]
= = =
" " "
Clients client Clients
use use use
properties properti property
to to to
communicate communic communicate
\ \ \
with with with
the the the
window window window
manager manag manager
. . .
This this This
example exampl example
illustrates illustr illustrate
how how how
an an an
OPEN open OPEN
\ \ \
LOOK look LOOK
application applic application
requests request request
notification notif notification
from from from
the the the
window window window
manager manag manager
\ \ \
when when when
certain certain certain
events event event
occur occur occur
. . .
The the The
communication communic communication
is is be
in in in
the the the
form form form
of of of
\ \ \
a a a
ClientMessage clientmessag ClientMessage
event event event
that that that
the the the
application applic application
processes process process
in in in
an an an
\ \ \
event event event
- - -
handler handler handler
. . .
" " "
; ; ;
/ / /
* * *
Atoms atom Atoms
used use use
for for for
inter inter inter
- - -
client client client
communication communic communication
* * *
/ / /
Atom atom Atom
ATOM atom ATOM
_ _ _
WM wm WM
_ _ _
PROTOCOLS protocol PROTOCOLS
, , ,
ATOM atom ATOM
_ _ _
WM wm WM
_ _ _
DELETE delet DELETE
_ _ _
WINDOW window WINDOW
, , ,
ATOM atom ATOM
_ _ _
WM wm WM
_ _ _
SAVE save SAVE
_ _ _
YOURSELF yourself YOURSELF
; ; ;
static static static
void void void
handle handl handle
_ _ _
wm wm wm
_ _ _
messages messag message
( ( (
) ) )
; ; ;
static static static
void void void
save save save
_ _ _
and and and
_ _ _
exit exit exit
( ( (
) ) )
; ; ;
static static static
void void void
save save save
_ _ _
yourself yourself yourself
( ( (
) ) )
; ; ;
static static static
void void void
pop pop pop
_ _ _
notice notic notice
( ( (
) ) )
; ; ;
static static static
void void void
do do do
_ _ _
exit exit exit
( ( (
) ) )
; ; ;
/ / /
* * *
String string String
to to to
hold hold hold
comand comand comand
line line line
( ( (
for for for
use use use
in in in
responding respond respond
to to to
* * *
the the the
WM wm WM
_ _ _
SAVE save SAVE
_ _ _
YOURSELF yourself YOURSELF
protocol protocol protocol
message messag message
. . .
* * *
/ / /
char char char
saved save save
_ _ _
cmdline cmdline cmdline
[ [ [
128 128 128
] ] ]
; ; ;
/ / /
* * *
- - -
- - -
- - -
- - -
- - -
- - -
- - -
- - -
- - -
- - -
- - -
- - -
- - -
- - -
- - -
- - -
- - -
- - -
- - -
- - -
- - -
- - -
- - -
- - -
- - -
- - -
- - -
- - -
- - -
- - -
- - -
- - -
- - -
- - -
- - -
- - -
- - -
- - -
- - -
- - -
- - -
- - -
- - -
- - -
- - -
- - -
- - -
- - -
- - -
- - -
- - -
- - -
- - -
- - -
- - -
- - -
- - -
- - -
- - -
- - -
- - -
* * *
/ / /
void void void
main main main
( ( (
argc argc argc
, , ,
argv argv argv
) ) )
int int int
argc argc argc
; ; ;
char char char
* * *
* * *
argv argv argv
; ; ;
{ { {
Widget widget Widget
w w w
; ; ;
int int int
i i i
; ; ;
/ / /
* * *
Save save Save
the the the
command command command
- - -
line line line
for for for
use use use
in in in
responding respond respond
to to to
the the the
* * *
WM wm WM
_ _ _
SAVE save SAVE
_ _ _
YOURSELF yourself YOURSELF
protocol protocol protocol
message messag message
. . .
* * *
/ / /
sprintf sprintf sprintf
( ( (
saved save save
_ _ _
cmdline cmdline cmdline
, , ,
" " "
% % %
s s s
" " "
, , ,
argv argv argv
[ [ [
0 0 0
] ] ]
) ) )
; ; ;
if if if
( ( (
argc argc argc
> > >
1 1 1
) ) )
for for for
( ( (
i i i
= = =
1 1 1
; ; ;
i i i
< < <
argc argc argc
; ; ;
i i i
+ + +
+ + +
) ) )
{ { {
strcat strcat strcat
( ( (
saved save save
_ _ _
cmdline cmdline cmdline
, , ,
argv argv argv
[ [ [
i i i
] ] ]
) ) )
; ; ;
strcat strcat strcat
( ( (
saved save save
_ _ _
cmdline cmdline cmdline
, , ,
" " "
" " "
) ) )
; ; ;
} } }
/ / /
* * *
Create creat Create
and and and
initialize initi initialize
the the the
top top top
- - -
level level level
widget widget widget
* * *
/ / /
top top top
_ _ _
level level level
= = =
OlInitialize oliniti OlInitialize
( ( (
argv argv argv
[ [ [
0 0 0
] ] ]
, , ,
" " "
Ol ol Ol
_ _ _
main main main
" " "
, , ,
NULL null NULL
, , ,
0 0 0
, , ,
& & &
argc argc argc
, , ,
argv argv argv
) ) )
; ; ;
/ / /
* * *
Create creat Create
a a a
StaticText statictext StaticText
widget widget widget
* * *
/ / /
w w w
= = =
XtVaCreateManagedWidget xtvacreatemanagedwidget XtVaCreateManagedWidget
( ( (
" " "
Stext stext Stext
" " "
, , ,
staticTextWidgetClass statictextwidgetclass staticTextWidgetClass
, , ,
top top top
_ _ _
level level level
, , ,
XtNstring xtnstring XtNstring
, , ,
message messag message
, , ,
XtNwidth xtnwidth XtNwidth
, , ,
200 200 200
, , ,
NULL null NULL
) ) )
; ; ;
/ / /
* * *
Create creat Create
a a a
NoticeShell noticeshel NoticeShell
widget widget widget
for for for
later later late
use use use
* * *
/ / /
make make make
_ _ _
notice notic notice
( ( (
top top top
_ _ _
level level level
) ) )
; ; ;
/ / /
* * *
Intern intern Intern
the the the
atoms atom atom
* * *
/ / /
ATOM atom ATOM
_ _ _
WM wm WM
_ _ _
PROTOCOLS protocol PROTOCOLS
= = =
XInternAtom xinternatom XInternAtom
( ( (
XtDisplay xtdisplay XtDisplay
( ( (
w w w
) ) )
, , ,
" " "
WM wm WM
_ _ _
PROTOCOLS protocol PROTOCOLS
" " "
, , ,
False fals False
) ) )
; ; ;
ATOM atom ATOM
_ _ _
WM wm WM
_ _ _
DELETE delet DELETE
_ _ _
WINDOW window WINDOW
= = =
XInternAtom xinternatom XInternAtom
( ( (
XtDisplay xtdisplay XtDisplay
( ( (
w w w
) ) )
, , ,
" " "
WM wm WM
_ _ _
DELETE delet DELETE
_ _ _
WINDOW window WINDOW
" " "
, , ,
False fals False
) ) )
; ; ;
ATOM atom ATOM
_ _ _
WM wm WM
_ _ _
SAVE save SAVE
_ _ _
YOURSELF yourself YOURSELF
= = =
XInternAtom xinternatom XInternAtom
( ( (
XtDisplay xtdisplay XtDisplay
( ( (
w w w
) ) )
, , ,
" " "
WM wm WM
_ _ _
SAVE save SAVE
_ _ _
YOURSELF yourself YOURSELF
" " "
, , ,
False fals False
) ) )
; ; ;
/ / /
* * *
Add add Add
an an an
event event event
- - -
handler handler handler
to to to
process process process
ClientMessage clientmessag ClientMessage
events event event
sent sent send
* * *
by by by
the the the
window window window
manager manag manager
* * *
/ / /
XtAddEventHandler xtaddeventhandl XtAddEventHandler
( ( (
top top top
_ _ _
level level level
, , ,
NoEventMask noeventmask NoEventMask
, , ,
True true True
, , ,
handle handl handle
_ _ _
wm wm wm
_ _ _
messages messag message
, , ,
NULL null NULL
) ) )
; ; ;
/ / /
* * *
Realize realiz Realize
the the the
widgets widget widget
and and and
start start start
processing process processing
events event event
* * *
/ / /
XtRealizeWidget xtrealizewidget XtRealizeWidget
( ( (
top top top
_ _ _
level level level
) ) )
; ; ;
/ / /
* * *
Append append Append
the the the
properties properti property
WM wm WM
_ _ _
DELETE delet DELETE
_ _ _
WINDOW window WINDOW
and and and
WM wm WM
_ _ _
SAVE save SAVE
_ _ _
YOURSELF yourself YOURSELF
* * *
to to to
the the the
definition definit definition
of of of
the the the
WM wm WM
_ _ _
PROTOCOLS protocol PROTOCOLS
property properti property
. . .
This this This
step step step
* * *
requires requir require
the the the
window window window
ID id ID
of of of
the the the
top top top
- - -
level level level
widget widget widget
. . .
The the The
window window window
* * *
ID id ID
is is be
valid valid valid
only onli only
after after after
the the the
widget widget widget
is is be
realized realiz realize
. . .
* * *
/ / /
XChangeProperty xchangeproperti XChangeProperty
( ( (
XtDisplay xtdisplay XtDisplay
( ( (
top top top
_ _ _
level level level
) ) )
, , ,
XtWindow xtwindow XtWindow
( ( (
top top top
_ _ _
level level level
) ) )
, , ,
ATOM atom ATOM
_ _ _
WM wm WM
_ _ _
PROTOCOLS protocol PROTOCOLS
, , ,
XA xa XA
_ _ _
ATOM atom ATOM
, , ,
32 32 32
, , ,
PropModeAppend propmodeappend PropModeAppend
, , ,
& & &
ATOM atom ATOM
_ _ _
WM wm WM
_ _ _
DELETE delet DELETE
_ _ _
WINDOW window WINDOW
, , ,
1 1 1
) ) )
; ; ;
XChangeProperty xchangeproperti XChangeProperty
( ( (
XtDisplay xtdisplay XtDisplay
( ( (
top top top
_ _ _
level level level
) ) )
, , ,
XtWindow xtwindow XtWindow
( ( (
top top top
_ _ _
level level level
) ) )
, , ,
ATOM atom ATOM
_ _ _
WM wm WM
_ _ _
PROTOCOLS protocol PROTOCOLS
, , ,
XA xa XA
_ _ _
ATOM atom ATOM
, , ,
32 32 32
, , ,
PropModeAppend propmodeappend PropModeAppend
, , ,
& & &
ATOM atom ATOM
_ _ _
WM wm WM
_ _ _
SAVE save SAVE
_ _ _
YOURSELF yourself YOURSELF
, , ,
1 1 1
) ) )
; ; ;
XtMainLoop xtmainloop XtMainLoop
( ( (
) ) )
; ; ;
} } }
/ / /
* * *
- - -
- - -
- - -
- - -
- - -
- - -
- - -
- - -
- - -
- - -
- - -
- - -
- - -
- - -
- - -
- - -
- - -
- - -
- - -
- - -
- - -
- - -
- - -
- - -
- - -
- - -
- - -
- - -
- - -
- - -
- - -
- - -
- - -
- - -
- - -
- - -
- - -
- - -
- - -
- - -
- - -
- - -
- - -
- - -
- - -
- - -
- - -
- - -
- - -
- - -
- - -
- - -
- - -
- - -
- - -
- - -
- - -
- - -
- - -
- - -
- - -
* * *
/ / /
static static static
void void void
handle handl handle
_ _ _
wm wm wm
_ _ _
messages messag message
( ( (
w w w
, , ,
client client client
_ _ _
data data data
, , ,
p p p
_ _ _
event event event
) ) )
Widget widget Widget
w w w
; ; ;
XtPointer xtpointer XtPointer
client client client
_ _ _
data data data
; ; ;
XEvent xevent XEvent
* * *
p p p
_ _ _
event event event
; ; ;
{ { {
if if if
( ( (
p p p
_ _ _
event event event
- - -
> > >
type type type
= = =
= = =
ClientMessage clientmessag ClientMessage
& & &
& & &
p p p
_ _ _
event event event
- - -
> > >
xclient xclient xclient
. . .
message messag message
_ _ _
type type type
= = =
= = =
ATOM atom ATOM
_ _ _
WM wm WM
_ _ _
PROTOCOLS protocol PROTOCOLS
) ) )
{ { {
if if if
( ( (
p p p
_ _ _
event event event
- - -
> > >
xclient xclient xclient
. . .
data data data
. . .
l l l
[ [ [
0 0 0
] ] ]
= = =
= = =
ATOM atom ATOM
_ _ _
WM wm WM
_ _ _
DELETE delet DELETE
_ _ _
WINDOW window WINDOW
) ) )
{ { {
save save save
_ _ _
and and and
_ _ _
exit exit exit
( ( (
) ) )
; ; ;
} } }
if if if
( ( (
p p p
_ _ _
event event event
- - -
> > >
xclient xclient xclient
. . .
data data data
. . .
l l l
[ [ [
0 0 0
] ] ]
= = =
= = =
ATOM atom ATOM
_ _ _
WM wm WM
_ _ _
SAVE save SAVE
_ _ _
YOURSELF yourself YOURSELF
) ) )
{ { {
save save save
_ _ _
yourself yourself yourself
( ( (
) ) )
; ; ;
} } }
} } }
} } }
/ / /
* * *
- - -
- - -
- - -
- - -
- - -
- - -
- - -
- - -
- - -
- - -
- - -
- - -
- - -
- - -
- - -
- - -
- - -
- - -
- - -
- - -
- - -
- - -
- - -
- - -
- - -
- - -
- - -
- - -
- - -
- - -
- - -
- - -
- - -
- - -
- - -
- - -
- - -
- - -
- - -
- - -
- - -
- - -
- - -
- - -
- - -
- - -
- - -
- - -
- - -
- - -
- - -
- - -
- - -
- - -
- - -
- - -
- - -
- - -
- - -
- - -
- - -
* * *
/ / /
static static static
void void void
save save save
_ _ _
and and and
_ _ _
exit exit exit
( ( (
) ) )
{ { {
/ / /
* * *
Display display Display
a a a
notice notic notice
giving give give
the the the
user user user
a a a
chance chanc chance
to to to
respond respond respond
* * *
/ / /
pop pop pop
_ _ _
notice notic notice
( ( (
top top top
_ _ _
level level level
, , ,
notice notic notice
_ _ _
shell shell shell
) ) )
; ; ;
} } }
/ / /
* * *
- - -
- - -
- - -
- - -
- - -
- - -
- - -
- - -
- - -
- - -
- - -
- - -
- - -
- - -
- - -
- - -
- - -
- - -
- - -
- - -
- - -
- - -
- - -
- - -
- - -
- - -
- - -
- - -
- - -
- - -
- - -
- - -
- - -
- - -
- - -
- - -
- - -
- - -
- - -
- - -
- - -
- - -
- - -
- - -
- - -
- - -
- - -
- - -
- - -
- - -
- - -
- - -
- - -
- - -
- - -
- - -
- - -
- - -
- - -
- - -
- - -
* * *
/ / /
static static static
void void void
save save save
_ _ _
yourself yourself yourself
( ( (
) ) )
{ { {
/ / /
* * *
Set set Set
the the the
WM wm WM
_ _ _
COMMAND command COMMAND
property properti property
to to to
the the the
saved save save
command command command
- - -
line line line
. . .
* * *
/ / /
XChangeProperty xchangeproperti XChangeProperty
( ( (
XtDisplay xtdisplay XtDisplay
( ( (
top top top
_ _ _
level level level
) ) )
, , ,
XtWindow xtwindow XtWindow
( ( (
top top top
_ _ _
level level level
) ) )
, , ,
XA xa XA
_ _ _
WM wm WM
_ _ _
COMMAND command COMMAND
, , ,
XA xa XA
_ _ _
STRING string STRING
, , ,
8 8 8
, , ,
PropModeReplace propmodereplac PropModeReplace
, , ,
saved save save
_ _ _
cmdline cmdline cmdline
, , ,
strlen strlen strlen
( ( (
saved save save
_ _ _
cmdline cmdline cmdline
) ) )
+ + +
1 1 1
) ) )
; ; ;
} } }
/ / /
* * *
- - -
- - -
- - -
- - -
- - -
- - -
- - -
- - -
- - -
- - -
- - -
- - -
- - -
- - -
- - -
- - -
- - -
- - -
- - -
- - -
- - -
- - -
- - -
- - -
- - -
- - -
- - -
- - -
- - -
- - -
- - -
- - -
- - -
- - -
- - -
- - -
- - -
- - -
- - -
- - -
- - -
- - -
- - -
- - -
- - -
- - -
- - -
- - -
- - -
- - -
- - -
- - -
- - -
- - -
- - -
- - -
- - -
- - -
- - -
- - -
- - -
* * *
/ / /
static static static
Widget widget Widget
make make make
_ _ _
notice notic notice
( ( (
parent parent parent
) ) )
Widget widget Widget
parent parent parent
; ; ;
{ { {
Widget widget Widget
w w w
, , ,
n n n
_ _ _
text text text
, , ,
n n n
_ _ _
control control control
, , ,
n n n
_ _ _
exit exit exit
, , ,
n n n
_ _ _
cancel cancel cancel
; ; ;
/ / /
* * *
Create creat Create
a a a
button button button
and and and
provide provid provide
a a a
callback callback callback
to to to
pop pop pop
up up up
a a a
Notice notic Notice
* * *
/ / /
w w w
= = =
XtVaCreateManagedWidget xtvacreatemanagedwidget XtVaCreateManagedWidget
( ( (
" " "
QuitButton quitbutton QuitButton
" " "
, , ,
oblongButtonWidgetClass oblongbuttonwidgetclass oblongButtonWidgetClass
, , ,
parent parent parent
, , ,
XtNlabel xtnlabel XtNlabel
, , ,
" " "
Exit exit Exit
. . .
. . .
. . .
" " "
, , ,
NULL null NULL
) ) )
; ; ;
XtAddCallback xtaddcallback XtAddCallback
( ( (
w w w
, , ,
XtNselect xtnselect XtNselect
, , ,
pop pop pop
_ _ _
notice notic notice
, , ,
NULL null NULL
) ) )
; ; ;
/ / /
* * *
Create creat Create
the the the
NoticeShell noticeshel NoticeShell
widget widget widget
. . .
Note note Note
that that that
you you you
have have have
to to to
use use use
* * *
XtVaCreatePopupShell xtvacreatepopupshel XtVaCreatePopupShell
instead instead instead
of of of
the the the
usual usual usual
* * *
XtVaCreateManagedWidget xtvacreatemanagedwidget XtVaCreateManagedWidget
. . .
* * *
/ / /
notice notic notice
_ _ _
shell shell shell
= = =
XtVaCreatePopupShell xtvacreatepopupshel XtVaCreatePopupShell
( ( (
" " "
QuitNotice quitnotic QuitNotice
" " "
, , ,
noticeShellWidgetClass noticeshellwidgetclass noticeShellWidgetClass
, , ,
w w w
, , ,
NULL null NULL
) ) )
; ; ;
/ / /
* * *
Get get Get
the the the
ID id ID
of of of
the the the
text text text
and and and
control control control
area area area
widgets widget widget
of of of
the the the
* * *
NoticeShell noticeshel NoticeShell
. . .
* * *
/ / /
XtVaGetValues xtvagetvalu XtVaGetValues
( ( (
notice notic notice
_ _ _
shell shell shell
, , ,
XtNtextArea xtntextarea XtNtextArea
, , ,
& & &
n n n
_ _ _
text text text
, , ,
XtNcontrolArea xtncontrolarea XtNcontrolArea
, , ,
& & &
n n n
_ _ _
control control control
, , ,
NULL null NULL
) ) )
; ; ;
/ / /
* * *
Place place Place
a a a
message messag message
in in in
the the the
text text text
area area area
of of of
the the the
NoticeShell noticeshel NoticeShell
* * *
/ / /
XtVaSetValues xtvasetvalu XtVaSetValues
( ( (
n n n
_ _ _
text text text
, , ,
XtNstring xtnstring XtNstring
, , ,
" " "
Please pleas Please
confirm confirm confirm
exit exit exit
from from from
program program program
. . .
" " "
, , ,
NULL null NULL
) ) )
; ; ;
/ / /
* * *
Add add Add
buttons button button
to to to
the the the
control control control
area area area
of of of
the the the
NoticeShell noticeshel NoticeShell
. . .
* * *
Each each Each
button button button
has has have
an an an
appropriate appropri appropriate
callback callback callback
. . .
* * *
/ / /
n n n
_ _ _
exit exit exit
= = =
XtVaCreateManagedWidget xtvacreatemanagedwidget XtVaCreateManagedWidget
( ( (
" " "
NoticeExit noticeexit NoticeExit
" " "
, , ,
oblongButtonWidgetClass oblongbuttonwidgetclass oblongButtonWidgetClass
, , ,
n n n
_ _ _
control control control
, , ,
XtNlabel xtnlabel XtNlabel
, , ,
" " "
Exit exit Exit
" " "
, , ,
NULL null NULL
) ) )
; ; ;
XtAddCallback xtaddcallback XtAddCallback
( ( (
n n n
_ _ _
exit exit exit
, , ,
XtNselect xtnselect XtNselect
, , ,
do do do
_ _ _
exit exit exit
, , ,
NULL null NULL
) ) )
; ; ;
n n n
_ _ _
cancel cancel cancel
= = =
XtVaCreateManagedWidget xtvacreatemanagedwidget XtVaCreateManagedWidget
( ( (
" " "
NoticeCancel noticecancel NoticeCancel
" " "
, , ,
oblongButtonWidgetClass oblongbuttonwidgetclass oblongButtonWidgetClass
, , ,
n n n
_ _ _
control control control
, , ,
XtNlabel xtnlabel XtNlabel
, , ,
" " "
Cancel cancel Cancel
" " "
, , ,
XtNdefault xtndefault XtNdefault
, , ,
True true True
, , ,
NULL null NULL
) ) )
; ; ;
return return return
w w w
; ; ;
} } }
/ / /
* * *
- - -
- - -
- - -
- - -
- - -
- - -
- - -
- - -
- - -
- - -
- - -
- - -
- - -
- - -
- - -
- - -
- - -
- - -
- - -
- - -
- - -
- - -
- - -
- - -
- - -
- - -
- - -
- - -
- - -
- - -
- - -
- - -
- - -
- - -
- - -
- - -
- - -
- - -
- - -
- - -
- - -
- - -
- - -
- - -
- - -
- - -
- - -
- - -
- - -
- - -
- - -
- - -
- - -
- - -
- - -
- - -
- - -
- - -
- - -
- - -
- - -
* * *
/ / /
static static static
void void void
pop pop pop
_ _ _
notice notic notice
( ( (
w w w
_ _ _
emanate eman emanate
, , ,
w w w
_ _ _
notice notic notice
) ) )
Widget widget Widget
w w w
_ _ _
emanate eman emanate
, , ,
w w w
_ _ _
notice notic notice
; ; ;
{ { {
XtVaSetValues xtvasetvalu XtVaSetValues
( ( (
w w w
_ _ _
notice notic notice
, , ,
XtNemanateWidget xtnemanatewidget XtNemanateWidget
, , ,
w w w
_ _ _
emanate eman emanate
, , ,
NULL null NULL
) ) )
; ; ;
/ / /
* * *
Pop pop Pop
up up up
the the the
NoticeShell noticeshel NoticeShell
widget widget widget
. . .
The the The
NoticeShell noticeshel NoticeShell
widget widget widget
makes make make
* * *
sure sure sure
that that that
the the the
aplication aplic aplication
waits wait wait
until until until
the the the
user user user
selects select selects
from from from
* * *
one one one
of of of
the the the
buttons button button
in in in
the the the
NoticeShell noticeshel NoticeShell
' ' '
s s s
control control control
area area area
. . .
* * *
/ / /
XtPopup xtpopup XtPopup
( ( (
w w w
_ _ _
notice notic notice
, , ,
XtGrabExclusive xtgrabexclus XtGrabExclusive
) ) )
; ; ;
} } }
/ / /
* * *
- - -
- - -
- - -
- - -
- - -
- - -
- - -
- - -
- - -
- - -
- - -
- - -
- - -
- - -
- - -
- - -
- - -
- - -
- - -
- - -
- - -
- - -
- - -
- - -
- - -
- - -
- - -
- - -
- - -
- - -
- - -
- - -
- - -
- - -
- - -
- - -
- - -
- - -
- - -
- - -
- - -
- - -
- - -
- - -
- - -
- - -
- - -
- - -
- - -
- - -
- - -
- - -
- - -
- - -
- - -
- - -
- - -
- - -
- - -
- - -
- - -
* * *
/ / /
static static static
void void void
do do do
_ _ _
exit exit exit
( ( (
w w w
, , ,
call call call
_ _ _
data data data
, , ,
client client client
_ _ _
data data data
) ) )
Widget widget Widget
w w w
; ; ;
XtPointer xtpointer XtPointer
call call call
_ _ _
data data data
, , ,
client client client
_ _ _
data data data
; ; ;
{ { {
XCloseDisplay xclosedisplay XCloseDisplay
( ( (
XtDisplay xtdisplay XtDisplay
( ( (
w w w
) ) )
) ) )
; ; ;
exit exit exit
( ( (
0 0 0
) ) )
; ; ;
} } }
