From from From
: : :
dealy deali dealy
@ @ @
narya narya narya
. . .
gsfc gsfc gsfc
. . .
nasa nasa nasa
. . .
gov gov gov
( ( (
Brian brian Brian
Dealy deali Dealy
- - -
CSC csc CSC
) ) )
Subject subject Subject
: : :
Re re Re
: : :
Monthly month Monthly
Question question Question
about about about
XCopyArea xcopyarea XCopyArea
( ( (
) ) )
and and and
Expose expos Expose
Events event Events
Organization organ Organization
: : :
NASA nasa NASA
/ / /
Goddard goddard Goddard
Space space Space
Flight flight Flight
Center center Center
Lines line Lines
: : :
43 43 43
Distribution distribut Distribution
: : :
world world world
NNTP nntp NNTP
- - -
Posting post Posting
- - -
Host host Host
: : :
narya narya narya
. . .
gsfc gsfc gsfc
. . .
nasa nasa nasa
. . .
gov gov gov
Originator origin Originator
: : :
dealy deali dealy
@ @ @
narya narya narya
. . .
gsfc gsfc gsfc
. . .
nasa nasa nasa
. . .
gov gov gov
| | |
> > >
( ( (
2 2 2
nd nd nd
posting post posting
of of of
the the the
question question question
that that that
just just just
doesn doesn doesn
' ' '
t t t
seem seem seem
to to to
get get get
answered answer answer
) ) )
| | |
> > >
| | |
> > >
Suppose suppos Suppose
you you you
have have have
an an an
idle idl idle
app app app
with with with
a a a
realized realiz realize
and and and
mapped map map
Window window Window
that that that
contains contain contain
| | |
> > >
Xlib xlib Xlib
graphics graphic graphic
. . .
A a A
button button button
widget widget widget
, , ,
when when when
pressed press press
, , ,
will will will
cause caus cause
a a a
new new new
item item item
| | |
> > >
to to to
be be be
drawn drawn draw
in in in
the the the
Window window Window
. . .
This this This
action action action
clearly clear clearly
should should should
not not not
call call call
XCopyArea xcopyarea XCopyArea
( ( (
) ) )
| | |
> > >
( ( (
or or or
equiv equiv equiv
) ) )
directly direct directly
; ; ;
instead instead instead
, , ,
it it it
should should should
register regist register
the the the
existence exist existence
of of of
the the the
new new new
| | |
> > >
item item item
in in in
a a a
memory memori memory
structure structur structure
and and and
let let let
the the the
same same same
expose expos expose
event event event
handler handler handler
that that that
handles handl handle
| | |
> > >
" " "
regular regular regular
" " "
expose expos expose
events event event
( ( (
e e e
. . .
g g g
. . .
window window window
manager manag manager
- - -
driven driven driven
exposures exposur exposure
) ) )
take take take
care care care
| | |
> > >
of of of
rendering render render
the the the
new new new
image imag image
. . .
Using use Using
an an an
expose expos expose
event event event
handler handler handler
is is be
a a a
" " "
proper proper proper
" " "
way way way
| | |
> > >
to to to
do do do
this this this
because becaus because
at at at
the the the
time time time
the the the
handler handler handler
is is be
called call call
, , ,
the the the
Xlib xlib Xlib
Window window Window
is is be
| | |
> > >
guaranteed guarante guarantee
to to to
be be be
mapped map map
. . .
| | |
> > >
| | |
> > >
The the The
problem problem problem
, , ,
of of of
course cours course
, , ,
is is be
that that that
no no no
expose expos expose
event event event
is is be
generated generat generate
if if if
the the the
window window window
| | |
> > >
is is be
already alreadi already
visible visibl visible
and and and
mapped map map
. . .
What what What
we we we
need need need
to to to
do do do
is is be
somehow somehow somehow
" " "
tickle tickl tickle
" " "
the the the
| | |
> > >
Window window Window
so so so
that that that
the the the
expose expos expose
handler handler handler
is is be
hit hit hit
with with with
arguments argument argument
that that that
will will will
enable enabl enable
| | |
> > >
it it it
to to to
render render render
* * *
just just just
* * *
the the the
part part part
of of of
the the the
window window window
that that that
contains contain contain
the the the
new new new
item item item
. . .
| | |
> > >
| | |
> > >
What what What
is is be
the the the
best best best
way way way
to to to
tickle tickl tickle
a a a
window window window
to to to
produce produc produce
this this this
behavior behavior behavior
? ? ?
If if If
I i I
understand understand understand
your your your
problem problem problem
correctly correct correctly
, , ,
you you you
want want want
to to to
have have have
a a a
way way way
to to to
send send send
exposures exposur exposure
to to to
your your your
manager manag manager
widget widget widget
when when when
your your your
app app app
- - -
specific specif specific
code code code
draws draw draw
xlib xlib xlib
graphics graphic graphic
on on on
the the the
window window window
. . .
It it It
sounds sound sound
like like like
you you you
might might might
want want want
to to to
send send send
an an an
exposure exposur exposure
using use use
XSendEvent xsendev XSendEvent
and and and
specifying specifi specify
a a a
region region region
. . .
If if If
you you you
know know know
the the the
region region region
you you you
need need need
to to to
send send send
the the the
exposure exposur exposure
, , ,
generally general generally
you you you
have have have
the the the
bounding bound bound
rectangle rectangl rectangle
of of of
the the the
objects object object
, , ,
you you you
can can can
use use use
XCreateRegion xcreateregion XCreateRegion
to to to
create creat create
a a a
region region region
, , ,
XUnionRectWithRegion xunionrectwithregion XUnionRectWithRegion
to to to
add add add
the the the
new new new
object object object
polygons polygon polygon
to to to
the the the
region region region
, , ,
and and and
then then then
either either either
use use use
the the the
region region region
to to to
clip clip clip
your your your
GC gc GC
for for for
the the the
redraw redraw redraw
or or or
use use use
XRectInRegion xrectinregion XRectInRegion
to to to
test test test
which which which
of of of
your your your
other other other
objects object object
need need need
to to to
be be be
redrawn redrawn redrawn
. . .
Keeping keep Keeping
in in in
mind mind mind
that that that
the the the
stacking stack stack
order order order
of of of
overlapping overlap overlap
objects object object
affects affect affect
how how how
they they they
look look look
. . .
Hope hope Hope
it it it
helps help help
- - -
- - -
Brian brian Brian
Dealy deali Dealy
| | |
301 301 301
- - -
572 572 572
- - -
8267 8267 8267
| | |
It it It
not not not
knowing know know
where where where
it it it
' ' '
s s s
at at at
dealy deali dealy
@ @ @
kong kong kong
. . .
gsfc gsfc gsfc
. . .
nasa nasa nasa
. . .
gov gov gov
| | |
| | |
that that that
' ' '
s s s
important import important
, , ,
it it it
' ' '
s s s
knowing know knowing
! ! !
uunet uunet uunet
! ! !
dftsrv dftsrv dftsrv
! ! !
kong kong kong
! ! !
dealy deali dealy
| | |
| | |
where where where
it it it
' ' '
s s s
not not not
at at at
. . .
. . .
. . .
B b B
. . .
Dylan dylan Dylan
- - -
- - -
Brian brian Brian
Dealy deali Dealy
| | |
301 301 301
- - -
572 572 572
- - -
8267 8267 8267
| | |
It it It
not not not
knowing know know
where where where
it it it
' ' '
s s s
at at at
dealy deali dealy
@ @ @
kong kong kong
. . .
gsfc gsfc gsfc
. . .
nasa nasa nasa
. . .
gov gov gov
| | |
| | |
that that that
' ' '
s s s
important import important
, , ,
it it it
' ' '
s s s
knowing know knowing
! ! !
uunet uunet uunet
! ! !
dftsrv dftsrv dftsrv
! ! !
kong kong kong
! ! !
dealy deali dealy
| | |
| | |
where where where
it it it
' ' '
s s s
not not not
at at at
. . .
. . .
. . .
B b B
. . .
Dylan dylan Dylan
