From from From
: : :
beck beck beck
@ @ @
irzr irzr irzr
17 17 17
. . .
inf inf inf
. . .
tu tu tu
- - -
dresden dresden dresden
. . .
de de de
( ( (
Andre andr Andre
Beck beck Beck
) ) )
Subject subject Subject
: : :
Re re Re
: : :
Animation anim Animation
with with with
XPutImage xputimag XPutImage
( ( (
) ) )
? ? ?
Organization organ Organization
: : :
Dept dept Dept
. . .
of of of
Computer comput Computer
Science scienc Science
, , ,
TU tu TU
Dresden dresden Dresden
, , ,
Germany germani Germany
. . .
Lines line Lines
: : :
37 37 37
Distribution distribut Distribution
: : :
world world world
Reply repli Reply
- - -
To to To
: : :
Andre andr Andre
_ _ _
Beck beck Beck
@ @ @
IRS ir IRS
. . .
Inf inf Inf
. . .
TU tu TU
- - -
Dresden dresden Dresden
. . .
DE de DE
NNTP nntp NNTP
- - -
Posting post Posting
- - -
Host host Host
: : :
irzr irzr irzr
17 17 17
. . .
inf inf inf
. . .
tu tu tu
- - -
dresden dresden dresden
. . .
de de de
In in In
article articl article
< < <
1993 1993 1993
Apr apr Apr
21 21 21
. . .
154620 154620 154620
. . .
16330 16330 16330
@ @ @
infodev infodev infodev
. . .
cam cam cam
. . .
ac ac ac
. . .
uk uk uk
> > >
, , ,
dcr dcr dcr
@ @ @
mail mail mail
. . .
ast ast ast
. . .
cam cam cam
. . .
ac ac ac
. . .
uk uk uk
( ( (
Derek derek Derek
C c C
. . .
Richardson richardson Richardson
) ) )
writes write write
: : :
| | |
> > >
Two two Two
years year year
ago ago ago
I i I
wrote wrote write
a a a
Sunview sunview Sunview
application applic application
for for for
fast fast fast
animation anim animation
| | |
> > >
of of of
raster raster raster
files file file
. . .
With with With
Sunview sunview Sunview
becoming becom become
rapidly rapid rapidly
obselete obselet obselete
, , ,
I i I
' ' '
ve ve ve
| | |
> > >
finally final finally
decided decid decide
to to to
rewrite rewrit rewrite
everything everyth everything
from from from
scratch scratch scratch
in in in
XView xview XView
. . .
| | |
> > >
I i I
put put put
together togeth together
a a a
quick quick quick
test test test
, , ,
and and and
I i I
' ' '
ve ve ve
found found find
that that that
XPutImage xputimag XPutImage
( ( (
) ) )
| | |
> > >
is is be
considerably consider considerably
slower slower slow
( ( (
factor factor factor
of of of
2 2 2
on on on
average averag average
? ? ?
) ) )
than than than
the the the
| | |
> > >
Sunview sunview Sunview
command command command
pw pw pw
_ _ _
rop rop rop
( ( (
) ) )
which which which
moves move move
image imag image
data data data
from from from
memory memori memory
| | |
> > >
pixrects pixrect pixrects
to to to
a a a
canvas canva canvas
. . .
This this This
was was be
on on on
a a a
Sparc sparc Sparc
IPX ipx IPX
. . .
It it It
seems seem seem
that that that
: : :
| | |
> > >
( ( (
1 1 1
) ) )
the the the
X x X
protocol protocol protocol
communication communic communication
is is be
slowing slow slow
things thing thing
down down down
; ; ;
or or or
| | |
> > >
( ( (
2 2 2
) ) )
XPutImage xputimag XPutImage
is is be
inefficient ineffici inefficient
. . .
. . .
. . .
or or or
both both both
! ! !
My my My
question question question
is is be
, , ,
what what what
The the The
protocol protocol protocol
has has have
to to to
move move move
the the the
whole whole whole
image imag image
from from from
process process process
memory memori memory
to to to
server server server
memory memori memory
, , ,
this this this
is is be
the the the
hog hog hog
. . .
The the The
conversions convers conversion
in in in
the the the
XPutImage xputimag XPutImage
( ( (
) ) )
are are be
fast fast fast
. . .
| | |
> > >
is is be
the the the
fastest fastest fast
way way way
in in in
X x X
11 11 11
R r R
5 5 5
to to to
dump dump dump
8 8 8
plane plane plane
image imag image
data data data
to to to
| | |
> > >
a a a
window window window
? ? ?
Can can Can
I i I
take take take
advantage advantag advantage
of of of
the the the
fact fact fact
that that that
the the the
client client client
is is be
| | |
> > >
running run run
on on on
the the the
same same same
machine machin machine
as as a
the the the
server server server
? ? ?
Or or Or
am am be
I i I
stuck stuck stick
with with with
Yes yes Yes
, , ,
by by by
utilizing util utilize
the the the
MIT mit MIT
- - -
SHM shm SHM
extension extens extension
, , ,
that that that
provides provid provide
an an an
XPutImage xputimag XPutImage
derivate deriv derivate
that that that
uses use use
shared share share
memory memori memory
. . .
Fine fine Fine
fast fast fast
. . .
| | |
> > >
XPutImage xputimag XPutImage
( ( (
) ) )
( ( (
in in in
which which which
case case case
I i I
might might might
as as as
well well well
give give give
up up up
now now now
. . .
. . .
. . .
) ) )
? ? ?
| | |
> > >
No no No
. . .
You you You
can can can
still still still
XPutImage xputimag XPutImage
all all all
of of of
the the the
frames frame frame
onto onto onto
pixmaps pixmap pixmaps
( ( (
thus thus thus
moving move move
them them them
to to to
server server server
memory memori memory
) ) )
and and and
then then then
replay replay replay
them them them
fastest fastest fast
using use use
XCopyArea xcopyarea XCopyArea
( ( (
) ) )
BUT but BUT
be be be
aware awar aware
, , ,
this this this
is is be
a a a
major major major
server server server
memory memori memory
bummer bummer bummer
! ! !
- - -
- - -
+ + +
- - -
o o o
- - -
+ + +
- - -
- - -
- - -
- - -
- - -
- - -
- - -
- - -
- - -
- - -
- - -
- - -
- - -
- - -
- - -
- - -
- - -
- - -
- - -
- - -
- - -
- - -
- - -
- - -
- - -
- - -
- - -
- - -
- - -
- - -
- - -
- - -
- - -
- - -
- - -
- - -
- - -
- - -
- - -
- - -
- - -
- - -
- - -
- - -
- - -
- - -
- - -
- - -
- - -
- - -
- - -
- - -
- - -
- - -
- - -
- - -
- - -
- - -
- - -
- - -
- - -
- - -
+ + +
- - -
o o o
- - -
+ + +
| | |
o o o
| | |
\ \ \
\ \ \
\ \ \
- - -
Brain brain Brain
Inside insid Inside
- - -
/ / /
/ / /
/ / /
| | |
o o o
| | |
| | |
o o o
| | |
^ ^ ^
^ ^ ^
^ ^ ^
^ ^ ^
^ ^ ^
^ ^ ^
^ ^ ^
^ ^ ^
^ ^ ^
^ ^ ^
^ ^ ^
^ ^ ^
^ ^ ^
^ ^ ^
^ ^ ^
| | |
o o o
| | |
| | |
o o o
| | |
Andre andr Andre
' ' '
Beck beck Beck
( ( (
ABPSoft abpsoft ABPSoft
) ) )
mehl mehl mehl
: : :
Andre andr Andre
_ _ _
Beck beck Beck
@ @ @
IRS ir IRS
. . .
Inf inf Inf
. . .
TU tu TU
- - -
Dresden dresden Dresden
. . .
de de de
| | |
o o o
| | |
+ + +
- - -
o o o
- - -
+ + +
- - -
- - -
- - -
- - -
- - -
- - -
- - -
- - -
- - -
- - -
- - -
- - -
- - -
- - -
- - -
- - -
- - -
- - -
- - -
- - -
- - -
- - -
- - -
- - -
- - -
- - -
- - -
- - -
- - -
- - -
- - -
- - -
- - -
- - -
- - -
- - -
- - -
- - -
- - -
- - -
- - -
- - -
- - -
- - -
- - -
- - -
- - -
- - -
- - -
- - -
- - -
- - -
- - -
- - -
- - -
- - -
- - -
- - -
- - -
- - -
- - -
- - -
+ + +
- - -
o o o
- - -
+ + +
