From from From
: : :
davewood davewood davewood
@ @ @
bruno bruno bruno
. . .
cs cs c
. . .
colorado colorado colorado
. . .
edu edu edu
( ( (
David david David
Rex rex Rex
Wood wood Wood
) ) )
Subject subject Subject
: : :
Creating creat Creating
application applic application
contexts context context
multiple multipl multiple
times time time
? ? ?
? ? ?
? ? ?
Nntp nntp Nntp
- - -
Posting post Posting
- - -
Host host Host
: : :
bruno bruno bruno
. . .
cs cs c
. . .
colorado colorado colorado
. . .
edu edu edu
Organization organ Organization
: : :
University univers University
of of of
Colorado colorado Colorado
, , ,
Boulder boulder Boulder
Lines line Lines
: : :
94 94 94
The the The
subject subject subject
does doe do
not not not
describe describ describe
the the the
problem problem problem
I i I
am am be
having have have
very veri very
well well well
. . .
Please pleas Please
read read read
on on on
. . .
. . .
. . .
I i I
am am be
trying tri try
to to to
write write write
a a a
function function function
which which which
creates creat create
an an an
XtAppContext xtappcontext XtAppContext
and and and
a a a
Widget widget Widget
, , ,
displays display display
the the the
widget widget widget
for for for
a a a
while while while
, , ,
then then then
destroys destroy destroy
everything everyth everything
and and and
returns return return
. . .
The the The
problem problem problem
is is be
that that that
multiple multipl multiple
calls call call
to to to
this this this
function function function
cause caus cause
a a a
variety varieti variety
of of of
problems problem problem
including includ include
( ( (
depending depend depend
on on on
which which which
calls call call
I i I
make make make
to to to
get get get
rid rid rid
of of of
things thing thing
) ) )
: : :
- - -
Core core Core
Dump dump Dump
- - -
BadPixmap badpixmap BadPixmap
X x X
Error error Error
- - -
Widget widget Widget
not not not
unmapped unmap unmapped
Here here Here
is is be
a a a
simple simpl simple
( ( (
C c C
+ + +
+ + +
) ) )
program program program
I i I
wrote wrote write
to to to
show show show
the the the
problem problem problem
: : :
# # #
include includ include
< < <
X x X
11 11 11
/ / /
Xlib xlib Xlib
. . .
h h h
> > >
# # #
include includ include
< < <
Xm xm Xm
/ / /
Xm xm Xm
. . .
h h h
> > >
# # #
include includ include
< < <
Xm xm Xm
/ / /
PushB pushb PushB
. . .
h h h
> > >
void void void
bla bla bla
( ( (
) ) )
{ { {
XtAppContext xtappcontext XtAppContext
app app app
; ; ;
Display display Display
* * *
dis dis dis
= = =
XOpenDisplay xopendisplay XOpenDisplay
( ( (
" " "
" " "
) ) )
; ; ;
int int int
junk junk junk
= = =
0 0 0
; ; ;
Widget widget Widget
top top top
= = =
XtAppInitialize xtappiniti XtAppInitialize
( ( (
& & &
app app app
, , ,
" " "
test test test
" " "
, , ,
NULL null NULL
, , ,
0 0 0
, , ,
& & &
junk junk junk
, , ,
NULL null NULL
, , ,
NULL null NULL
, , ,
NULL null NULL
, , ,
0 0 0
) ) )
; ; ;
Widget widget Widget
box box box
= = =
XtVaCreateManagedWidget xtvacreatemanagedwidget XtVaCreateManagedWidget
( ( (
" " "
blaaa blaaa blaaa
" " "
, , ,
xmPushButtonWidgetClass xmpushbuttonwidgetclass xmPushButtonWidgetClass
, , ,
top top top
, , ,
XmNheight xmnheight XmNheight
, , ,
50 50 50
, , ,
XmNwidth xmnwidth XmNwidth
, , ,
50 50 50
, , ,
NULL null NULL
) ) )
; ; ;
XtRealizeWidget xtrealizewidget XtRealizeWidget
( ( (
top top top
) ) )
; ; ;
/ / /
/ / /
Same same Same
as as a
XtAppMainLoop xtappmainloop XtAppMainLoop
but but but
with with with
only onli only
10 10 10
XEvents xevent XEvents
for for for
( ( (
int int int
i i i
= = =
0 0 0
; ; ;
i i i
< < <
= = =
10 10 10
; ; ;
i i i
+ + +
+ + +
) ) )
{ { {
XEvent xevent XEvent
event event event
; ; ;
XtAppNextEvent xtappnextev XtAppNextEvent
( ( (
app app app
, , ,
& & &
event event event
) ) )
; ; ;
XtDispatchEvent xtdispatchev XtDispatchEvent
( ( (
& & &
event event event
) ) )
; ; ;
} } }
/ / /
/ / /
WHAT what WHAT
SHOULD should SHOULD
I i I
PUT put PUT
HERE here HERE
? ? ?
? ? ?
? ? ?
XtUnrealizeWidget xtunrealizewidget XtUnrealizeWidget
( ( (
top top top
) ) )
; ; ;
XtDestroyWidget xtdestroywidget XtDestroyWidget
( ( (
top top top
) ) )
; ; ;
XtDestroyApplicationContext xtdestroyapplicationcontext XtDestroyApplicationContext
( ( (
app app app
) ) )
; ; ;
XCloseDisplay xclosedisplay XCloseDisplay
( ( (
dis dis dis
) ) )
; ; ;
/ / /
/ / /
? ? ?
? ? ?
? ? ?
} } }
main main main
( ( (
) ) )
{ { {
for for for
( ( (
int int int
i i i
= = =
0 0 0
; ; ;
i i i
< < <
= = =
20 20 20
; ; ;
i i i
+ + +
+ + +
) ) )
bla bla bla
( ( (
) ) )
; ; ;
} } }
Note note Note
that that that
I i I
rewrote rewrot rewrite
XtAppMainLoop xtappmainloop XtAppMainLoop
so so so
that that that
at at at
a a a
given given give
time time time
( ( (
in in in
this this this
example exampl example
, , ,
after after after
10 10 10
XEvents xevent XEvents
) ) )
the the the
function function function
will will will
exit exit exit
and and and
return return return
to to to
the the the
main main main
program program program
. . .
With with With
this this this
example exampl example
, , ,
I i I
get get get
the the the
following follow following
error error error
on on on
about about about
( ( (
this this this
is is be
NOT not NOT
consistent consist consistent
) ) )
the the the
5 5 5
th th th
call call call
to to to
bla bla bla
( ( (
) ) )
: : :
X x X
Error error Error
of of of
failed fail failed
request request request
: : :
BadPixmap badpixmap BadPixmap
( ( (
invalid invalid invalid
Pixmap pixmap Pixmap
parameter paramet parameter
) ) )
Major major Major
opcode opcod opcode
of of of
failed fail failed
request request request
: : :
55 55 55
( ( (
X x X
_ _ _
CreateGC creategc CreateGC
) ) )
Resource resourc Resource
id id id
in in in
failed fail failed
request request request
: : :
0 0 0
xe xe xe
0000 0000 0000
d d d
Serial serial Serial
number number number
of of of
failed fail failed
request request request
: : :
71 71 71
Current current Current
serial serial serial
number number number
in in in
output output output
stream stream stream
: : :
86 86 86
If if If
I i I
take take take
out out out
the the the
XtUnrealizeWidget xtunrealizewidget XtUnrealizeWidget
( ( (
top top top
) ) )
; ; ;
line line line
, , ,
it it it
just just just
dumps dump dump
core core core
on on on
the the the
seconds second second
call call call
. . .
Furthermore furthermor Furthermore
, , ,
every everi every
time time time
I i I
call call call
XtAppInitialize xtappiniti XtAppInitialize
( ( (
) ) )
( ( (
other other other
than than than
the the the
1 1 1
st st st
time time time
) ) )
, , ,
I i I
get get get
: : :
Warning warn Warning
: : :
Initializing initi Initializing
Resource resourc Resource
Lists list Lists
twice twice twice
Warning warn Warning
: : :
Initializing initi Initializing
Translation translat Translation
manager manag manager
twice twice twice
. . .
So so So
finally final finally
, , ,
my my my
question question question
is is be
this this this
: : :
What what What
needs need need
to to to
be be be
done done do
in in in
order order order
to to to
be be be
able abl able
to to to
call call call
a a a
function function function
which which which
creates creat create
an an an
XtAppContext xtappcontext XtAppContext
and and and
widgets widget widget
multiple multipl multiple
times time time
? ? ?
Any ani Any
help help help
would would would
be be be
greatly great greatly
appreciated appreci appreciate
. . .
PLEASE pleas PLEASE
respond respond respond
via via via
email email email
as as a
I i I
dont dont dont
usually usual usually
have have have
time time time
to to to
read read read
this this this
group group group
. . .
Thanks thank Thanks
very veri very
much much much
. . .
- - -
davewood davewood davewood
- - -
- - -
- - -
- - -
- - -
- - -
- - -
- - -
- - -
- - -
- - -
- - -
- - -
- - -
- - -
- - -
- - -
- - -
- - -
- - -
- - -
- - -
- - -
- - -
- - -
- - -
- - -
- - -
- - -
- - -
- - -
- - -
- - -
- - -
- - -
- - -
- - -
- - -
- - -
- - -
- - -
- - -
- - -
- - -
- - -
- - -
- - -
- - -
- - -
- - -
- - -
- - -
- - -
- - -
- - -
- - -
- - -
- - -
- - -
- - -
- - -
- - -
- - -
- - -
- - -
- - -
- - -
- - -
- - -
- - -
- - -
- - -
- - -
- - -
- - -
- - -
- - -
- - -
- - -
- - -
- - -
David david David
Rex rex Rex
Wood wood Wood
- - -
- - -
davewood davewood davewood
@ @ @
cs cs c
. . .
colorado colorado colorado
. . .
edu edu edu
- - -
- - -
University univers University
of of of
Colorado colorado Colorado
at at at
Boulder boulder Boulder
- - -
- - -
- - -
- - -
- - -
- - -
- - -
- - -
- - -
- - -
- - -
- - -
- - -
- - -
- - -
- - -
- - -
- - -
- - -
- - -
- - -
- - -
- - -
- - -
- - -
- - -
- - -
- - -
- - -
- - -
- - -
- - -
- - -
- - -
- - -
- - -
- - -
- - -
- - -
- - -
- - -
- - -
- - -
- - -
- - -
- - -
- - -
- - -
- - -
- - -
- - -
- - -
- - -
- - -
- - -
- - -
- - -
- - -
- - -
- - -
- - -
- - -
- - -
- - -
- - -
- - -
- - -
- - -
- - -
- - -
- - -
- - -
- - -
- - -
- - -
- - -
- - -
- - -
- - -
