From from From
: : :
rgooch rgooch rgooch
@ @ @
rp rp rp
. . .
CSIRO csiro CSIRO
. . .
AU au AU
( ( (
Richard richard Richard
Gooch gooch Gooch
) ) )
Subject subject Subject
: : :
Re re Re
: : :
Animation anim Animation
with with with
XPutImage xputimag XPutImage
( ( (
) ) )
? ? ?
Organization organ Organization
: : :
CSIRO csiro CSIRO
Division divis Division
of of of
Radiophysics radiophys Radiophysics
/ / /
Australia australia Australia
Telescope telescop Telescope
National nation National
Facility facil Facility
Lines line Lines
: : :
41 41 41
In in In
article articl article
< < <
1993 1993 1993
Apr apr Apr
21 21 21
. . .
165310 165310 165310
. . .
14544 14544 14544
@ @ @
dsd dsd dsd
. . .
es es e
. . .
com com com
> > >
, , ,
pmartz pmartz pmartz
@ @ @
dsd dsd dsd
. . .
es es e
. . .
com com com
( ( (
Paul paul Paul
Martz martz Martz
) ) )
writes write write
: : :
> > >
In in In
article articl article
< < <
1993 1993 1993
Apr apr Apr
21 21 21
. . .
154620 154620 154620
. . .
16330 16330 16330
@ @ @
infodev infodev infodev
. . .
cam cam cam
. . .
ac ac ac
. . .
uk uk uk
> > >
, , ,
dcr dcr dcr
@ @ @
mail mail mail
. . .
ast ast ast
. . .
cam cam cam
. . .
ac ac ac
. . .
uk uk uk
( ( (
Derek derek Derek
C c C
. . .
Richardson richardson Richardson
) ) )
writes write write
: : :
> > >
> > >
Hi hi Hi
, , ,
I i I
' ' '
m m m
new new new
to to to
this this this
group group group
so so so
please pleas please
bear bear bear
with with with
me me me
! ! !
> > >
> > >
> > >
> > >
Two two Two
years year year
ago ago ago
I i I
wrote wrote write
a a a
Sunview sunview Sunview
application applic application
for for for
fast fast fast
animation anim animation
> > >
> > >
of of of
raster raster raster
files file file
. . .
With with With
Sunview sunview Sunview
becoming becom become
rapidly rapid rapidly
obselete obselet obselete
, , ,
I i I
' ' '
ve ve ve
> > >
> > >
finally final finally
decided decid decide
to to to
rewrite rewrit rewrite
everything everyth everything
from from from
scratch scratch scratch
in in in
XView xview XView
. . .
> > >
> > >
I i I
put put put
together togeth together
a a a
quick quick quick
test test test
, , ,
and and and
I i I
' ' '
ve ve ve
found found find
that that that
XPutImage xputimag XPutImage
( ( (
) ) )
> > >
> > >
is is be
considerably consider considerably
slower slower slow
( ( (
factor factor factor
of of of
2 2 2
on on on
average averag average
? ? ?
) ) )
than than than
the the the
> > >
> > >
Sunview sunview Sunview
command command command
pw pw pw
_ _ _
rop rop rop
( ( (
) ) )
which which which
moves move move
image imag image
data data data
from from from
memory memori memory
> > >
> > >
pixrects pixrect pixrects
to to to
a a a
canvas canva canvas
. . .
This this This
was was be
on on on
a a a
Sparc sparc Sparc
IPX ipx IPX
. . .
It it It
seems seem seem
that that that
: : :
> > >
> > >
( ( (
1 1 1
) ) )
the the the
X x X
protocol protocol protocol
communication communic communication
is is be
slowing slow slow
things thing thing
down down down
; ; ;
or or or
> > >
> > >
( ( (
2 2 2
) ) )
XPutImage xputimag XPutImage
is is be
inefficient ineffici inefficient
. . .
. . .
. . .
or or or
both both both
! ! !
> > >
> > >
Using use Using
XPutImage xputimag XPutImage
, , ,
your your your
source sourc source
is is be
maintained maintain maintain
by by by
the the the
client client client
and and and
the the the
> > >
destination destin destination
is is be
maintained maintain maintain
by by by
the the the
server server server
, , ,
thus thus thus
you you you
incur incur incur
the the the
overhead overhead overhead
> > >
of of of
transporting transport transport
through through through
whatever whatev whatever
client client client
- - -
server server server
communications communic communication
> > >
mechanism mechan mechanism
you you you
are are be
using use use
. . .
> > >
> > >
Is is Is
it it it
possible possibl possible
for for for
you you you
to to to
maintain maintain maintain
your your your
source sourc source
images imag image
in in in
pixmaps pixmap pixmaps
? ? ?
> > >
These these These
are are be
maintained maintain maintain
by by by
the the the
server server server
, , ,
so so so
copying copi copy
them them them
into into into
a a a
window window window
is is be
> > >
much much much
cheaper cheaper cheap
. . .
> > >
> > >
Also also Also
make make make
sure sure sure
you you you
are are be
not not not
sending send send
any ani any
unnecessary unnecessari unnecessary
XSyncs xsync XSyncs
, , ,
or or or
running run run
> > >
in in in
XSynchonize xsynchon XSynchonize
mode mode mode
. . .
If if If
you you you
need need need
speed speed speed
, , ,
and and and
your your your
client client client
can can can
run run run
on on on
the the the
same same same
host host host
as as a
the the the
X x X
server server server
, , ,
you you you
should should should
use use use
the the the
shared share shared
memory memori memory
extension extens extension
to to to
the the the
sample sampl sample
X x X
server server server
( ( (
MIT mit MIT
- - -
SHM shm SHM
) ) )
. . .
xdpyinfo xdpyinfo xdpyinfo
will will will
tell tell tell
you you you
if if if
your your your
server server server
has has have
this this this
extension extens extension
. . .
This this This
is is be
certainly certain certainly
available avail available
with with with
the the the
sample sampl sample
MIT mit MIT
X x X
server server server
running run run
under under under
SunOS suno SunOS
. . .
A a A
word word word
of of of
warning warn warning
: : :
make make make
sure sure sure
your your your
kernel kernel kernel
is is be
configured configur configure
to to to
support support support
shared share shared
memory memori memory
. . .
And and And
another anoth another
word word word
of of of
warning warn warning
: : :
OpenWindows openwindow OpenWindows
is is be
slower slower slow
than than than
the the the
MIT mit MIT
server server server
. . .
I i I
have have have
written written write
an an an
imaging imag image
tool tool tool
( ( (
using use use
XView xview XView
for for for
the the the
GUI gui GUI
, , ,
by by by
the the the
way way way
) ) )
which which which
yields yield yield
over over over
10 10 10
frames frame frame
per per per
second second second
for for for
512 512 512
* * *
512 512 512
* * *
8 8 8
bit bit bit
images imag image
, , ,
running run run
on on on
a a a
Sparc sparc Sparc
IPC ipc IPC
( ( (
half half half
the the the
cpu cpu cpu
grunt grunt grunt
of of of
an an an
IPX ipx IPX
) ) )
. . .
This this This
has has have
proved prove prove
quite quit quite
sufficient suffici sufficient
for for for
animations anim animation
. . .
Regards regard Regards
, , ,
Richard richard Richard
Gooch gooch Gooch
. . .
. . .
. . .
. . .
