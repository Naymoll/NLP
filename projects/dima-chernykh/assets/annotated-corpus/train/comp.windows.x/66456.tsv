From from From
: : :
oj oj oj
@ @ @
world world world
. . .
std std std
. . .
com com com
( ( (
Oliver oliv Oliver
Jones jone Jones
) ) )
Subject subject Subject
: : :
Re re Re
: : :
Q q Q
: : :
How how How
to to to
avoid avoid avoid
XOpenDisplay xopendisplay XOpenDisplay
hang hang hang
? ? ?
Keywords keyword Keywords
: : :
Xlib xlib Xlib
Article articl Article
- - -
I i I
. . .
D d D
. . .
: : :
world world world
. . .
C c C
531 531 531
A a A
0 0 0
. . .
M m M
3 3 3
I i I
Organization organ Organization
: : :
Shawsheen shawsheen Shawsheen
Software softwar Software
Lines line Lines
: : :
18 18 18
In in In
article articl article
< < <
C c C
512 512 512
xr xr xr
. . .
3 3 3
oy oy oy
@ @ @
skates skate skate
. . .
gsfc gsfc gsfc
. . .
nasa nasa nasa
. . .
gov gov gov
> > >
andy andi andy
@ @ @
ice ice ice
. . .
stx stx stx
. . .
com com com
writes write write
: : :
> > >
I i I
' ' '
m m m
writing write write
' ' '
xwall xwall xwall
' ' '
, , ,
a a a
simple simpl simple
X x X
version version version
of of of
' ' '
wall wall wall
' ' '
, , ,
and and and
I i I
want want want
it it it
to to to
> > >
put put put
a a a
message messag message
up up up
on on on
each each each
of of of
a a a
default default default
list list list
of of of
displays display display
. . .
The the The
problem problem problem
> > >
is is be
that that that
XOpenDisplay xopendisplay XOpenDisplay
hangs hang hang
if if if
one one one
of of of
the the the
displays display display
is is be
currently current currently
> > >
controlled control control
by by by
xdm xdm xdm
( ( (
login login login
screen screen screen
) ) )
. . .
xdm xdm xdm
does doe do
XGrabServer xgrabserv XGrabServer
when when when
it it it
' ' '
s s s
running run run
in in in
secure secur secure
mode mode mode
( ( (
so so so
do do do
some some some
screen screen screen
- - -
locks lock lock
) ) )
. . .
There there There
' ' '
s s s
really realli really
no no no
simple simpl simple
way way way
to to to
tell tell tell
this this this
is is be
the the the
case case case
. . .
You you You
can can can
take take take
xdm xdm xdm
out out out
of of of
secure secur secure
mode mode mode
; ; ;
probably probabl probably
not not not
too too too
cool cool cool
. . .
You you You
can can can
wrap wrap wrap
your your your
call call call
to to to
XOpenDisplay xopendisplay XOpenDisplay
in in in
some some some
code code code
which which which
solicts solict solicts
a a a
future futur future
SIGALRM sigalrm SIGALRM
and and and
longjmps longjmp longjmps
past past past
the the the
XOpenDisplay xopendisplay XOpenDisplay
from from from
the the the
signal signal signal
handler handler handler
. . .
An an An
example exampl example
of of of
this this this
can can can
be be be
seen seen see
in in in
the the the
xdm xdm xdm
sources sourc source
. . .
Note note Note
that that that
longjmping longjmp longjmping
out out out
of of of
XOpenDisplay xopendisplay XOpenDisplay
probably probabl probably
causes caus cause
a a a
memory memori memory
leak leak leak
; ; ;
any ani any
program program program
functioning function functioning
this this this
way way way
probably probabl probably
needs need need
to to to
exit exit exit
( ( (
) ) )
regularly regular regularly
. . .
