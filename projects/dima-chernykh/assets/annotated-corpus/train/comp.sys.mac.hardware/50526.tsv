From from From
: : :
dcb dcb dcb
@ @ @
wdl wdl wdl
1 1 1
. . .
wdl wdl wdl
. . .
loral loral loral
. . .
com com com
( ( (
David david David
C c C
Blume blume Blume
) ) )
Subject subject Subject
: : :
Cannot cannot Cannot
move move move
data data data
fast fast fast
enough enough enough
! ! !
? ? ?
Summary summari Summary
: : :
disk disk disk
- - -
> > >
buffer buffer buffer
- - -
> > >
network network network
card card card
Keywords keyword Keywords
: : :
NuBus nubus NuBus
, , ,
SCSI scsi SCSI
, , ,
disk disk disk
, , ,
throughput throughput throughput
Organization organ Organization
: : :
Gokuraku gokuraku Gokuraku
Videos video Videos
Lines line Lines
: : :
43 43 43
I i I
want want want
to to to
achieve achiev achieve
an an an
overall overal overall
throughput throughput throughput
rate rate rate
of of of
around around around
5 5 5
megabytes megabyt megabyte
/ / /
sec sec sec
for for for
very veri very
large larg large
data data data
transfers transfer transfer
. . .
( ( (
Around around Around
5 5 5
MB mb MB
. . .
) ) )
I i I
have have have
a a a
Quadra quadra Quadra
950 950 950
. . .
I i I
have have have
a a a
NuBus nubus NuBus
network network network
card card card
that that that
can can can
pump pump pump
data data data
in in in
to to to
mac mac mac
memory memori memory
at at at
8 8 8
. . .
5 5 5
MB mb MB
/ / /
s s s
. . .
( ( (
using use use
block block block
- - -
mode mode mode
transfers transfer transfer
) ) )
I i I
have have have
a a a
high high high
- - -
speed speed speed
disk disk disk
array array array
( ( (
no no no
asynchronous asynchron asynchronous
PB pb PB
calls call call
) ) )
that that that
can can can
achieve achiev achieve
6 6 6
. . .
8 8 8
MB mb MB
/ / /
s s s
. . .
Let let Let
' ' '
s s s
say say say
all all all
transfers transfer transfer
go go go
from from from
disk disk disk
to to to
buffer buffer buffer
to to to
network network network
card card card
. . .
It it It
is is be
not not not
enough enough enough
to to to
first first first
transfer transfer transfer
all all all
the the the
data data data
from from from
the the the
disk disk disk
to to to
buffer buffer buffer
, , ,
then then then
transfer transfer transfer
all all all
the the the
data data data
from from from
the the the
buffer buffer buffer
to to to
card card card
. . .
( ( (
6 6 6
. . .
8 8 8
MB mb MB
/ / /
s s s
then then then
8 8 8
. . .
5 5 5
MB mb MB
/ / /
s s s
result result result
in in in
an an an
overall overal overall
3 3 3
. . .
8 8 8
MB mb MB
/ / /
s s s
. . .
Too too Too
slow slow slow
! ! !
) ) )
So so So
I i I
tried tri try
the the the
following follow following
scheme scheme scheme
: : :
For for For
an an an
n n n
- - -
megabyte megabyt megabyte
transfer transfer transfer
, , ,
Step step Step
1 1 1
: : :
Load load Load
the the the
1 1 1
st st st
MB mb MB
from from from
disk disk disk
to to to
buffer buffer buffer
. . .
Step step Step
2 2 2
: : :
Asynch asynch Asynch
send send send
1 1 1
st st st
MB mb MB
out out out
card card card
, , ,
Load load Load
the the the
2 2 2
nd nd nd
MB mb MB
from from from
disk disk disk
to to to
buffer buffer buffer
. . .
Step step Step
3 3 3
: : :
Asynch asynch Asynch
send send send
2 2 2
nd nd nd
MB mb MB
out out out
card card card
, , ,
Load load Load
the the the
3 3 3
rd rd rd
MB mb MB
from from from
disk disk disk
to to to
buffer buffer buffer
. . .
. . .
. . .
. . .
Step step Step
n n n
: : :
Asynch asynch Asynch
send send send
the the the
n n n
- - -
1 1 1
MB mb MB
out out out
card card card
, , ,
Load load Load
the the the
nth nth nth
MB mb MB
from from from
disk disk disk
to to to
buffer buffer buffer
. . .
Step step Step
n n n
+ + +
1 1 1
: : :
Send send Send
the the the
nth nth nth
MB mb MB
out out out
card card card
. . .
Even even Even
though though though
the the the
code code code
apparently appar apparently
does doe do
execute execut execute
the the the
card card card
transfer transfer transfer
asynchronously asynchron asynchronously
, , ,
and and and
the the the
card card card
does doe do
not not not
use use use
the the the
Mac mac Mac
cpu cpu cpu
at at at
all all all
, , ,
( ( (
It it It
is is be
using use use
the the the
buffer buffer buffer
, , ,
tho tho tho
' ' '
) ) )
each each each
of of of
the the the
steps step step
2 2 2
through through through
n n n
take take take
as as as
long long long
as as a
if if if
the the the
two two two
transfers transfer transfer
were were be
executed execut execute
one one one
after after after
another anoth another
. . .
So so So
there there there
is is be
no no no
improvement improv improvement
in in in
the the the
rate rate rate
. . .
Why whi Why
? ? ?
Is is Is
the the the
mac mac mac
RAM ram RAM
dual dual dual
- - -
port port port
? ? ?
( ( (
So so So
the the the
NuBus nubus NuBus
card card card
and and and
the the the
disk disk disk
driver driver driver
can can can
both both both
access access access
data data data
at at at
the the the
same same same
time time time
. . .
) ) )
Is is Is
the the the
problem problem problem
that that that
the the the
two two two
devices devic device
, , ,
card card card
and and and
disk disk disk
driver driver driver
, , ,
both both both
have have have
to to to
use use use
the the the
same same same
bus bus bus
to to to
mac mac mac
RAM ram RAM
? ? ?
Is is Is
there there there
anything anyth anything
I i I
can can can
do do do
? ? ?
- - -
- - -
David david David
+ + +
- - -
- - -
- - -
- - -
- - -
- - -
- - -
- - -
- - -
- - -
- - -
- - -
- - -
- - -
- - -
- - -
- - -
- - -
- - -
- - -
- - -
- - -
- - -
- - -
- - -
- - -
- - -
- - -
- - -
- - -
- - -
- - -
- - -
- - -
- - -
- - -
- - -
- - -
- - -
- - -
- - -
- - -
- - -
- - -
- - -
- - -
- - -
- - -
- - -
- - -
- - -
- - -
- - -
- - -
- - -
- - -
- - -
- - -
- - -
- - -
- - -
- - -
- - -
- - -
- - -
- - -
- - -
- - -
- - -
+ + +
| | |
David david David
Blume blume Blume
| | |
" " "
I i I
get get get
tired tire tired
thinking think thinking
of of of
all all all
the the the
things thing thing
I i I
| | |
| | |
dcb dcb dcb
@ @ @
wdl wdl wdl
1 1 1
. . .
wdl wdl wdl
. . .
loral loral loral
. . .
com com com
| | |
don don don
' ' '
t t t
want want want
to to to
do do do
. . .
" " "
- - -
- - -
Bukowski bukowski Bukowski
, , ,
_ _ _
Barfly barfli Barfly
_ _ _
| | |
+ + +
- - -
- - -
- - -
- - -
- - -
- - -
- - -
- - -
- - -
- - -
- - -
- - -
- - -
- - -
- - -
- - -
- - -
- - -
- - -
- - -
- - -
- - -
- - -
- - -
- - -
- - -
- - -
- - -
- - -
- - -
- - -
- - -
- - -
- - -
- - -
- - -
- - -
- - -
- - -
- - -
- - -
- - -
- - -
- - -
- - -
- - -
- - -
- - -
- - -
- - -
- - -
- - -
- - -
- - -
- - -
- - -
- - -
- - -
- - -
- - -
- - -
- - -
- - -
- - -
- - -
- - -
- - -
- - -
- - -
+ + +
